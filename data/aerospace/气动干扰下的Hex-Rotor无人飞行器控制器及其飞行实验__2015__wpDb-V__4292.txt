气动干扰下的Hex-Rotor无人飞行器控制器及其飞行实验
分析了气流扰动、翼间干扰等因素对飞行中的无人飞行器的控制精度和效果产生的影响,并给出了相应的解决方法。建立了Hex-Rotor飞行器的动力学模型,分析了升力因子不确定性导致飞行器控制效果下降的影响因素。设计了反演滑模控制器来控制飞行器的空间六自由度运动,同时考虑升力因子的不确定性采用超螺旋非线性观测器观测各个旋翼的升力因子来克服气动干扰的影响。通过原型机验证了提出的方法,结果显示：Hex-Rotor飞行器在气动干扰较大的外部环境中飞行时,水平位移跟踪误差不超过±4.5m,高度误差不超过±2.5m,姿态角度误差保持在±2°内,较大地增强了飞行器的抗扰能力。结果表明：采用本文的方法可以有效地估计各个旋翼的升力因子,从而提高Hex-Rotor飞行器的控制精度和效果。

无人飞行器 升力因子 气动干扰 反演滑模控制器 超螺旋非线性观测器  

1“引“言
微小型多旋翼无人飞行器具有体积小、重量
轻、结构简单以及操控简单、机动灵活等优点,在
军事与民事领域获得了广泛的应用,得到了越来
越多科研人员的重视“.“。其中,四旋翰无人机
作为多旋翼飞行器的典型代表,近年来的研究取
得了大量的成果。Zhang口等设计了四旋翼飞行
器的滑模反馈控制器,克服了未知扰动对飞行器
稳定运行的影响;Zuor1等针对飞行命的欠驱动
特性,引人了一种基于反步法的双环嵌套式控制
结构;Zairi和Hazry“1设计了基于神经网络的模
型参考自适应控制算法。
作者课题组对四旋翼飞行器进行了较为深
人的研究,Chen等日将SOIT-II型模糊神经网
络引人飞行器的控制系统中,提高了飞行器的环
境 适 应 能 力 ;Gong 41 4 EB HTB Hi AR 3) A MBER
飞行器的控制中,实现了飞行器各个控制通道的
解耦,同时提高了系统的抗干扰能力;Peng“e。在
其基础上引人了PSO算法,对控制器参数进行调
整,获得了更高的控制品质。通过研究发现,四旋
翼飞行器在本质上属于一种欠驱动、强耦合的非
线性系统,即使通过控制系统的调节也无法真正
提高其飞行机动能力。针对这一问题,本课题
组古创新性地提出一种全新结构的Hex-Rotor
无人飞行器,通过独特的旋翰配置方式,保证了飞
行器具有6自由度独立控制的能力。本文在前期
研究基础上,重点针对气流扰动.翼间于扰等因素
XfHex-Rotor飞行器的6自由度控制带来的负
面影响(降低了控制精度和效果)进行研究。考虑
到在实际飞行中,气流扰动、翼间干扰等因素会对
飞行器的旋翼驱动特性产生影响,特别是会使得
旋耀的升力因子产生波动,引人了一种超螺旋观
测器算法,实时对各旋翼的升力系数进行估计以
提高控制的精确性,同时采用反演滑模控制器来
控制飞行器的空间6自由度运动。最后通过原型
机进行了验证,获得了较高的控制品质。
2Hex-Rotor飞行器的动力学分析
2.1Hex-Rotor飞行器的动力学建模
Hex-Rotor飞行器结构如图1所示:6组旋
翰驱动单元均匀安装在飞行器连杆末端;其中旋
381.3.5顺时针旋转,旋翼2、4.6逆时针旋转;旋
翼转轴与机体平面成y(0一y一90.)角。依靠这
种新颖飞行器结构,Hex-Rotor飞行器通过控制
各个旋翼的转速,可以实现空间6自由度全解糊
控制。
图 1 Hex-Rotor飞行器的结构示意国
Fig.1 Scheme diagram of Hex-Rotor aircraft
首先定义旋翼在机体坐标系上的位置向量
D,ER,其中;二1,2,...,6代表旋翼编号。由飞
行器的结构可以得到:
D,=[―3/2 ―1/2 0J"l,D,=[-+3/2 1/2 oT
RE;产生的升力f与反扭力矩r:TEAR:
一二O二一(一13丨uaDi,(1
其中:0:表示旋翼i的转速,&:为升力因子,为
反扭力矩系数;(一1)丨表示反扭力矩的方向(逆
时针为正。进一步得到机体坐标系下,飞行器各
个旋冀产生的合力F一[F:,Fy,F]与合力矩M
=[M.,M,,M,]"的表达形式,:
其中:F:代表万在机体坐标系上的投影,M表示
旋耀升力产生的力矩。当7乙10“时,反扭力矩远
小于旋翼升力产生的力短,将式(2)进一步写为,
选取地面坐标系E以及飞行器机体坐标系
(如图1)作为参考坐标系,建立了飞行器的动力
学模型。定义飞行器质心的空间位置为S二[z,
y,z],飞行器姿态由欧拉角向量二[4,0,V]7表
万._{ ° RHF Newton-Euler AR ARB RATERS TL
转动的动力学方程为,
丁 * o=―sk(w) * L{w) ? ITM, (4
其中:@一[p5,a,r]“表示飞行器相对于机体坐标
系旦的转动角速度,L(w)二diag(p,e,7)为@的
矩 阵 表 示 ,J 一 diag(I,I,,I4) 与 I 一 [LI2, I,, I 小
分别为飞行器转动惯量的矩阵与向量表示sk(w)
为斜对称矩阵““。考虑到飞行器通常处于小角度
运动状态,因此认为欧拉角变化率7与飞行器角
速度@近似相等
因此,式(4)可写为;
将Hex-Rotor飞行器的动力学模型与四旋翼飞
行器的模型对比可以看出,新型飞行器实现了6
个自由度上的全解耦独立控制。
结合式(6)、(7),进一步得到Hex-Rotor飞
行命等效的被控对象为:
其中,
U=[ki, kB], E=[$,0,￠?x,y,2]",B 由
式(15、(2)、(6)与(7)可以求得。
2.2“升力因子的波动
多旋翼飞行器旋翼的气动干扰一直是研究的
难点和热点。飞行器的控制力矩全部由旋翼提
供,所以旋耀的气动干扰是飞行器扰动的主要成
因。式(1)中旋翼5升力因子k:HN:
其中:A为旋翼特征面积,p为空气密度,Cr为升
力系数,R为旋翼半径,Cr与旋鬓翼型的雷诺数、
马赫数有关““.01。可见升力因子会随海拔高度、
空气黏性和来流的大小、方向等因素有一定程度
的波动。由于本系统中对驱动单元;BEEQO.
进行了稳速控制,因此可以认为控制力矩M的扰
动会直接反映在i:的变动上,设计观测器估算升
力因子可有效提高控制系统的鲁棒性。另外,考
虑到Hex-Rotor飞行器的翼间干扰也应当对各
个旋翼;的升力因子&:都进行估算。
3.1“反演滑模控制器设计
引人反演设计方法设计控制器。将复杂的非
线性系统分解成不超过系统阶数的子系统,然后
为每个子系统分别设计李亚普若夫函数和中间虚
拟控制量,适合用于非线性系统“。设路踪误差
为:
zl一5一咤,(10)
其 中 :$ ABLE, EX Lyapunov KEL:
\/ 翼='Z戛l_′z]/2 14 (11)
对其求导:
认一z史一吊仪一口).(12)
定义虚拟控制项;
口一5一口十Czl,(13)
其 中 :C=<diag(《cl ,...,ce ) 且 c: 乙 0, 将 式 (13) 代 人
式(12)有:
Vi=―2Cz十呱奶、(14)
为提高反演控制系统的鲁棒性,引人滑模控
制方法。定义切换函数
9 二 Axl tz, (15)
其中:A二diag(a!,...,as)且a:一0,将式(13)代人
式(15)有:
0=(A+CO)z +z. (16)
由于a:十c乙0,如果g一0,则z,二0,根据式
(14)有们奶0,即可保证=最终收敛到0。定义
一个Lyapunov函数;
Y 二 zf zl/2 十 grTa/2 。 《17 )
对式(17)求导数有
仨二仡十zTg二吉zo一zTCz,+oT6=2T2,―27Cz十
0" (A(z, ― Cz) + f(t.) + BU―E,+Cz1),
(18)
设计反演滑模控制器为:
U=B"'(―A(z,―Cz))― f(￡,t) +t, ― Ct, ―
H(c 十 Bsgn(a))) , an
Hi H=diag(h, …,Ahs ) ,8 一 [8 ,...,8:]“ 表 示
控制器设计参数,继而得到各个电机的期望转速:
Rsgn(a) 女 周 一 发 Cm 一 妙 ArBKKI1+B-1!HAx 一
z; BKK, 'B'HAz + || 6" ‖ o | KK |
告‖|ACzs一Cal)十D一吕十Cal||―
I ATBKK;'B "Hz; ―=2; BKK; 'B?' Hz, 一
Ie" | BKK, 'B?'HB=― lio" || (|| HRIl ―
Hp:K=diag(k,―kl,=ks―ks)表示实际升力
因子与标称值之间的偏差;
p= Amex (B'B) ,0= varaTBTBJ,
矩阵:
Nixs =diag(1/2,1/2,++,1/2),
由此可知,当X为0时,通过合理构造几,C和A
可以使得Q为正定矩阵,且有:
V二一‖aq“‖‖Holl―27QZ<0,
即在式(19)的控制下,飞行器能够准确跟踪期望
的状态信息。而当k:偏离标称值&?时,调节参
数也可保证跟踪误差z!与=最终有界收敛,
东跟踪的精度取决于各个旋翼;的升力因子&:
的实时估计精度。
在实际控制中,为了降低滑动模态快速切换
时产生的抖振,在式(19)中采用饱和函数sa(0)
代替符号函数sgn(a),即:
其中:4为边界层。
3.2升力因子的观测器设计
根据上面的分析,对升力因子k:的实时估计
值的准确,将影响控制器的控制精度和教果。升
力因子与气流扰动翼间干扰等有关,甚至为非线
性关系。这使得升力因子很难通过预先建模的方
其中:rtv(t)表示升力系数的变化速度,且满足有
界条件‖t(t)|奶卯,印表示上确界。则取d、
a5ds为观测器状态量,可以建立超螺旋非线
性状态观测器:
其中:误差e一z一Q。则由文献L1+3]可知,在z
(有界条件下,选取适当的参数状态al、as、as,
ds将在有限时间内收敛到zs。这样取乙二[&i,
…性]7为升力因子估计值,可得:
4.1“升力因子波动
风洞试验作为研究旋瞿气动性能的重要手
段,可以通过准确控制风扰的状态参数来获得旋
翰准确的数据。采用风洞来模拟来流工作环境,
练合考虔后选择开口式回流低速风洞。选取白然
来流常见的二级凤(1.6一3.3m/s)和三级风(3.4
一5.4m/s)的典型值进行了水平方向来流的升力
因子波动实验,如图2所示。可见随着水平方向
来流的风力增加,升力因子随之减小,变化幅度在
7.01%左右。在实际飞行实验中,由于各地环境
的差异与自然气象条件的恶劣,升力因子变化幅
direction inflow
方面,通过惯性测量单元ADIS16448和GPS模
炕LEA-6H获得飞行器的姿态与位置信息;最
后,DSP通过现场总线与各个驱动单元通讯,考
虑温度恶劣、电磁辐射强和振动大的环境采用
CAN总线协议141。
动单元均由直流无刷电机本体,电子开关线路,反
向电动势检测电路与微灿理器构成。直流无刷电
机本体的定子为三相绕组,转子由12对永久磁钥
组成。由于没有位置传感器,微处理器通过检测
反向电动势的过零点控制电子开关线路换相“1。
当旋翼旋转一周时,电子开关线路的6路
MOSFET将两两导通顺序换相72次。因此微处
理器在控制换相的同时,通过定时器将换相时间
记录,便可以得到准确的旋翰转速。该转速将提
供给驱动单元的微处理器做稳速控制。驱动单元
i的控制器为:
通过上述方式测量旋翼转速,不仅节省了传
感器,简化了电机机构,而且精确测量各个旋翼的
转速也提高了电机稳速控制的精度。
4.3“原型机飞行实验
通过原型机的外场飞行实验来验证飞行器反
演滑膜控制器与超螺旋观测器的实用效果。原型
机飞行实验状态如图4所示,原型机的物理参数
表 1 Hex-Rotor原型机物理参数与实验条件
Tab. ! Physical parameters of Hex-Rotor
prototype and experiment condition
Parameters Values
Wind direction Southwest
Weather Cloudy
首先以滚转通道为例试验欧拉角的控制效
果。为了验证风扰对飞行器的影响,其航向角垂
直于风向;正向给定滚转角为逆风运行状态,负向
给定滚转角为顺风运行状态。采用双闭环PID
控制器效果如图5(a)所示(其中红色实线表示参
考姿态角,黑色实线表示实际的娇态角,彩图见期
刊电子版),可见在风扰影响下,滚转角有一定程
度的高频小抖动,尤其是在顺风运行的状态下角
度抖动帽度达到土3.5「。而采用反演滑模控制
器,并用超螺旋观测器估计升力因子,取得了较好
的控制效果(如图5(b)所示),顺风、逆风的角度
抖动幅度均控制在士2“以内,而且没有高频的小
抖动。可见在气动于扰较大的情况下,采用本文
的方法使Hex-Rotor飞行器欧拉角7的控制精度
进一步提高,抗扰能力大大增强。
接下来试验空间位置的控制效果。该实验分
2次进行,分别采用双闭坏的PID控制器和本文
的方法。实验中将飞行器升高至17.5m后,原
全程记录自主飞行阶段的位置信息如图6所示,
(其中红色实线表示参考给定,绿色实线表示双闭
环PID控制器的跟踪效果,若色实线表示反演滑
模控制器的跟踪效果,彩图见期刊电子版)。从图
6可以看出,札用双闭环的PID控制器在气动干
(a)经度跟踪曲线(b)纬度跟踪曲线
(a) Tracking curves in (b) Tracking curves in
longitude channel latitude channel
(c)高度跟踪曲线(辐迹跟踪曲线
(￠) Tracking curves in (d) Trajectory tracking
altitude channel curves
图 6 轨迹飞行实验
Fig. 6 Trajectory tracking flight results
扰较大的环境中控制精度大幅下降,水平跟踪误
差超过士9m,高度跟踪误差达到士3.5m。采用
本文的反演滑模控制器并加人超螺旋观测器,水
平位移跟踪误差不超过土4.5m,高度误差不超
过士2.5m,跟踪精度好于传统的双环PID控制
器,具有更高的鲁棒性。
5“结“论
本文对气动于拢下的Hex-RotorTAKAT
器控制器进行了设计,并进行了飞行实验。结果
表 明 :旋翼的升力因子会随翼间干扰和来流的大
小、方向等气动因素有一定程度的波动;升力因子
的波动增加了Hex-Rotor无人飞行器控制器在
不同飞行环境下的不确定性,降低了控制的精度;
采用反演滑模控制器控制Hex-Rotor无人
飞行器的空间6自由度运动,并加人超螺旋非线
性状态观测器实时估计升力因子的方法应对气动
干扰。通过原型机飞行证明,使用反演滑模控制
器的Hex-Rotor飞行器在气动干扰较大的环境
中飞行,水平位移跟踪误差不超过土4.5m,高度
误差不超过士2.5m,姿态角度误差保持在土2“
内,抗扰能力有较大增强。
ZICH BRT LAA OA SAN RE BF BE
子,增强了控制器的鲁棒性,提高了飞行器的控制
品质。
