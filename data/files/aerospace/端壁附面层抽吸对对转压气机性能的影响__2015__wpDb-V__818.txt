端壁附面层抽吸对对转压气机性能的影响
以双级对转压气机为研究对象,通过在两排转子机匣处开设抽吸孔,采用数值方法研究了不同抽吸流量下端壁附面层抽吸对压气机性能的影响,为吸附式压气机优化设计提供参考。计算结果表明:在级环境下端壁附面层抽吸可以提升压气机失速裕度,但抽吸流量过大会对效率造成一定损失,当抽吸1.6%流量时失速裕度提升了3.8%,压气机性能达到最佳;失速主要由间隙泄漏涡引起并首先在第二排转子叶尖发生,抽吸削弱了泄漏涡的强度推迟失速发生;端壁附面层抽吸增大了叶尖流通能力,使转子叶尖效率和压比得到提升,并有效改善了出口导叶流场。

对转压气机 端壁附面层抽吸 数值计算 抽吸流量 级环境  

0“引言
星载通感CCD相机中,CCD时序发生器的性能直接影响到CCD信号的处理能力、转换效率和信喉
比等光电转换特征,从而影响到相机的品质参数,因此,设计高精度的驱动时序信号已成为目前提高星
载遥感CCD相机性能的关键技术之一[““。提高驱动时序信号的精度主要有2种途径:1)使得各水平转
移信号之间的偏斜(Skew)为0;2)使得水平转移信号之间相位关系最佳。在以往的设计中主要通过硬
件RC电路和内部加人延迟缓冲来进行补偿设计,但这种方法存在一定的缺陷:增加了硬件电路,功耗
增大;需要进行反复调试才能完成,研制周期长;信号精度只能达到ns级,即各信号之间偏斜和相位关
系调整为vs级。当前可以通过人工十预布局布线的方法来实现高精度驱动时序信号,使精度达到psHo
本文以某型号为背景,分析了TDICCD驱动时序特点、时序发生器的工作原理和设计过程,介绍了在
反熔丝现场门阵列(FieldProgrammableGateAarray,FPGA)上的实现过程:利用电子设计自动化(Electronic
DesignAutomation,EDA)工具完成设计、综合、仿真,通过分析所用反熔丝FPGA芯片的结构特性,对不
满足要求的信号进行人工干预布局布线,最后通过时序分析工具确认信号满足要求,完成硬件测试。
1TDICCD的驱动时序特点
1.1TDICCD的工作原理及优点
TDI是一种能够增加线扫描传感器灵敏度的扫描技术,具有面阵结构.线阵输出的新型CCD感光片。
与普通CCD相比,具有多重级数延时积分的功能。
从结构上看,多个线阵平行排列,像元在线阵方向
和级数方向昌矩形排列。TDICCD的电荷积累方向是沿CCD级数方向进行,其扫描级数自下而上,假
设为1~M级,像元数沿线阵方向从左到右,假设为1-N个像元。在成像过程中,随着相机(或景物)
的运动,每一级像元在1个曝光积分周期内收集电荷,并转移到下一级像元,直到将最后一行(即第M
行)像元收集到的信号电荷与前M-1次收集到的信号电荷累加移到输出寄存器中,按普通线阵CCD的
读出方式输出。因此,每经过1个积分周期,TDICCD将输出1行视频信号。
由TDICCD的特殊结构可知其比普通CCD具有的优势为:
1)随着TDI积分级数M的增加,有用信号线性相加,而噪声信号是非相干平方根增加,这样可以
提高TDICCD的信噪比。
2)通过调节级数,能在分辨率不变的情况下提高可见光CCD的灵敏度和均匀性。
3)采用TDICCD作为焦平面探测器可以准少相机相对孔径,从而减少相机的质量和体积[。
1.2TDICCD的工作驱动时序分析
TDICCD有多种工作模式,通常为双端输出(左右输出)或单端输出,也可以多个通道输出;CCD
模拟信号输出的驱动信号一般为2相或4相。
TDICCD工作的驱动信号有垂直转移时序信号CIx、水平转移时序信号CRx、级数选择信号Css信号。
垂直转移时序信号CIx,完成电荷感光阵列积累的电荷读出转移到相邻的垂直移位寄存器;水平转移时序
信号CRx和复位信号RST,通常由相同的几组信号来驱动CCD,这样在设计时可以由1组或2组信号引
出,完成电荷从垂直移位寄存器向水平移位寄存器并行转移,以及从水平移位寄存器向输出放大器的申行
输出。
在设计时序发生器时,CRx之间和RST之间偏斜的大小以及CRx和RST之间相位关系直接影响到
CCD的转换效率和信噪比,因此设计高精度时序发生器的关键是各信号之间偏斜最小、CRx和RST之
间相位关系最佳。
某TDICCD驱动信号的关系如图1所示,其水平转移信号为4相。
2.1TDICCD时序发生器的工作原理
按照星载遥感CCD相机接口及功能要求,TDICCD时序发生器由控制信号产生模块、CCD时序产
生模块、延时调整模块3部分组成。电路接通后,首先由控制信号产生模块发出复位较长的内部复位信
号送到所需的内部模块;接收CCD级数码字;CCD时序产生模块接收控制信号产生模块发来的复位、
时钟、行同步、CCD级数码字并发出CCD工作驱动信号,包括CCD水平转移信号、垂直转移信号、级
数选择信号;延时调整模块接收CCD时序产生模块发出的CRRST信号(与CR信号周期相同、相位不
同),产生RST信号宽度,并调整RST输出延时,以此调整RST和最后一级水平转移信号CRLAST的
相位关系,用于调节CCD输出模拟信号的波形。
2.2“设计内容
(1)时钟设计
在数字电路设计中,需要保证时钟的可靠性。本文札用的方案是:由专用的全局时钟输人管脚驱动
的单个主时钟去控制设计中的每一个时序器件,尽量在设计中采用全局时钟。FPGA具有专门的全局时
钟管脚,目接与器件中的每个寄存器相连。在器件中,这种全局时钟能提供最短的时钟延时(数据输人
到数据到达输出的时间BT,
(2)同步电路设计
同步电路由时序电路(寄存器和各种触发器)和组合逻辑电路构成,其所有操作都在严格的时钟控
制下完成,状态变化都在时钟的上升沿(或下降沿)完成。这种设计可消除毛刺和同步内部偏斜的数据
或信号。例如在设计级数译码电路时,译码器和比较器的输出信号易产生毛刺,而使用时钟控制输出就
可以避免毛刺现象的产生;对于CCD驱动信号也可以通过此方法来消除偏斜F1。
(3)延时设计
合理的延时设计是保证高精度时序信号的关键:
1)对于关键信号,各路CCD水平转移信号之间的
偏斜为0或很小,由此保证电荷具有较高的转移效率;2)精确调节RST信号的脉宽,保证电荷完全复
位;3)精确调节RST信号和CRL的相位关系,保证FPGA输出的驱动信号通过PCBffCCD的信号品
质能达到最优的驱动性能,以满足CCD对驱动信号的要求,使得CCD输出模拟信号波形最佳山。
以往的设计方法有2种:1)通过外部RC电路延时,调整电阻或电容的值来调节各信号之间的偏斜
和相位关系,但这需要添加额外的硬件电路,降低了可靠性和精确性,调整步长最小也要ns级;2)在
软件代码中增加BUFD(BufferDelay)延时,使得各信号之间满足最小偏斜和最佳相位关系,但一个
BUFD延迟最小几百ps,经过芯片内自动布局布线后,各信号之间偏斜或相位关系差值也要几百ps,不
能完全消除偏斜,一调试工作量大、周期长。
目前设计的重点在综合后的布局布线,即通过人工合理干预布局布线来满足最终的设计要求。主要
内容有:1)通过研究反熔丝FPGA器件结构特点,
调整各驱动信号的最后一级寄存器,使得输出各信
5 Tco ( Clock-to-Output Delay Time ) 值 完 全 相 同 ,
即最后偏斜为0。2)固定BUFD的位置,使得所用
的每个BUFD延时和走线长度固定,由此计算出所用BUFD的个数,精确调整RST信号和CRL的相位
关系以及RST信号的脉宽。这种设计方法不需要额外的硬件RC电路,一通过人工合理干预布局布线,
使得信号调试精度大幅提高,具有可控性强、研制周期短及可靠性高等特点。3)PCB板各路水平转移
信号硬件布线采用等长,旦器件一致性较好[K141。
3ETFPGA的实现过程
3.1FPGA技术原理及选择
对于星载遥感CCD相机的设计,可选的技术包括以SRAM(StaticRandomAccessMemory)为基础
的FPGA和以反熔丝为基础的FPGA。一般情况下,以SRAM为基础的FPGA易受SEU(SingleEventUpset)
干扰丁功耗高,其优势在于拥有较高的逻辑密度和灵活性,可在卫星发射前后修改设计,然而灵活性的
增加将提高系统的复杂性,并且增加元件数目、降低总体可靠性;以反熔丝为基础的FPGA器件比SRAM
产品具有更多优势,比如固有的非挥发性以及在每次启动时无须进行强制性的器件配置。反熔丝FPGA
能筒化板级设计、减轻质量和节省板卡空间,而且不再需要PROM(ProgrammableReadOnlyMemory)
来存储位流或CPLD(ComplexProgrammableLogicDevice)来控制板卡的启动;也无须用额外的电路或
处理器程序来捕捉供电受限或电压突增事件。因为配置数据不会被擦除,一旦FPGA设计完成后便无须
设计系统,所有的支持电路也不用对各种上电情况进行调试除错7““21。
3.2“功能设计及仿真实现
选用开发套件Libero8.5进行软件开发,集成综合工具Synplify9.2、仿真工具Modelsim6.3f。
3.2.1_VHDL语言设计及仿真
采用VHDL语言进行各功能模块的设计,功能模块具体分为:控制信号产生模块、CCD时序产生
模块中和延时调整模块[l。
1)软件的主时钟由专用的全局时钟输人管脚驱动FPGA,软件各模块的工作时钟均采用主时钟。包
括控制信号产生模块和CCD时序产生模块。
2)软件采用同步电路设计。控制信号产生模块中,接收CCD级数码字是根据使能下降沿开始接收,
在主时钟下降沿开始存储每一位数据,在最后一位接收结束后并行输出码字以及码字使能信号。
CCD时序产生模块中,采用4相进行工作,由主时钟进行四分频产生像元时钟信号,对像元时钟进
行移相来产生4种不同相位的各路水平转移信号,采用2级寄存器输出,对最后一级寄存器位置进行调
整优化输出UO,保证各路水平转移信号之间的偏斜为0;垂直转移信号由计数器产生,计数器最高位数
(设为n位的计数器)为行周期;在进行计数时,以主时钟作为计数器的时钟,主时钟二分频信号和像
元时钟信号作为计数器使能信号进行计数;CCD级数选择信号产生通过接收控制信号模块并行级数码字
进行译码,在时钟控制下,行同步起始位置输出CCD级数选择信号。
延时调整模块通过内部BUFD来对信号进行延时门.具体逻辑关系如图2所示,通过调整第1组BUFD
的个数和布局来调整RST信号的脉宽;调整第2组
BUFD的个数和布局来调整RST信号的延时,即由
此来调整RST信号和CRLAST信号之间的延时相位。
图 中 CRRST信号与CR信号的周期相同、相位不同。
用Modelsim6.3进行仿真后的结果如图3~4所示
,图3为CIx垂直转移信号仿真波形,信号cpsl_cil_o、
cpsL_ci2_o0、cpsl_ci3_o、cpsl_ci4_o、cpsl_tck_o 对 应 图 ! 中 的 CIL、CI2、CI3、CI4、TCK; 图 4 为 水 平
转移信号CRx、RST水平转移信号的仿真波形,为两组相同的信号:一组为cpsl_lcrllo、cpsL_lcr21_o、
cpsl_ler3l o. cpsl_lerdl o. cpsl_lerrl_o 和 cpsl erst 0 (0); 男 一 组 为 cpsl 2crll 0、cpsl 2cr21 o 、
cpsl_2cr3l_o. cpsl_2cr4l_o. cpsl_2crrl_o 和 cpsl_crst o (1), 都 对 应 图 1 中 的 CR1L、CR2、CR3、CR4 、
CRL、RST信号。
181.23 ms
图 3 垂直转移信号仿真波形
Fig. 3 Vertical transfer signal simulation waveform
181.241 4 ms
181.241 5 ms 181.241 6 ms
图 4 水平转移信号仿真波形
Fig. 4 Horizontal transfer
signal simulation waveform
3.2.2FPGA的布局布线和硬件实测结果
反熔丝FPGA器件结构如图5所示。R-Cell寄存器时钟用HCLK,逻辑为C-Cell。
R-Cell
处,使得输出UO之间的偏斜为of,
在实际应用中,使用Libero套件布局布线工具
,在DesignerFlow中与布局相关的工具有Complie
和Layout。首先进行编译(Compile),然后利用Layout工具进行自动布局布线,查看TimingAnalyzer
中的时序报告,进行各路之间的时序延时分析,对水平转移信号输出UO之间偏斜不为0的信号进行人
工布局干预,调整输出VO的最后一级寄存器位置,
重新进行编译,但是此时的编译必须是增量式编译,
才能在保持原来没有改动布局布线的基础上达到所要精确调整的位置。调整前后的Tco值输出情况如表
1所示,调整前cpsl_lcrl_o信号的Tco值为7.822ns,cpsl_2crl_o信号的Teco值为7.912ns,其他几路水
平转移信号的Tco值为7.324ns,调节cpsl_lcrl_o
和cpsl_2crl_o输出的最后一级寄存器位置可以使得
cpsl_lcrl_o和cpsl_2crl_o与其他几路信号的Tco值相同,最后全都为7.324ns。
表 1 水平转移信号
Teo值调整前后对比
Tab. 1 Tco before / after adjustment
信号调整前的Too值/ns调整后的Teo值/ns
cpsl_lcr13_o 7.324 7.324
cpsl_lerl4_o 7.324 7.324
cpsl_lcrl_o 7.324 7.324
cpsl_2crll_o 7.912 7.324
2)RST设计:调整BUFD布局使得RST信号精度最高。
将BUFD放在C-Cell延时一致且最小的一列中
,这样调整RST脉宽时可以精确到最小。通过调整
第1组BUFD的个数来调整RST信号的脉宽,调整第2组BUFD的个数来调整RST信号的延时,即由
此来改变RST信号和CRLAST信号的之间的延时相位。同时,还要调整TDICCD的2路RST信号相位
一致,这样就能保证CCD输出模拟信号各路相位的一致性达到最佳.经过调整,RST的Tco值为54.834ns。
在实际硬件PCB电路中,对驱动信号硬件布线作等长设计,尽量选择一致性好的器件,可以得到精
度较高的时序信号。
自动布局布线的情况下cpst_lcrt_o与同相位水平转移信号cpsl_2crt_o的波形如图6所示,上升沿
延时为1.767ns,下降沿延时为1.047ns;人工干预布局布线后的cpsl_lerl_o与同相位水平转移信号
cpsl_2crl_o的波形如图7所示,上升沿延时为104.4ps,下降沿延时为132.4ps。
使得驱动CCD工作的时序信叶之间的偏斜为0,与实际硬件电路相配合,各路时序信号延时达到ps级,
提高了实际电路性能,并丁减少了反复实验,只需2到3次就可以定型,减少了研制成本“01。
4结束语
随着当前对星载遥感CCD相机性能要求的不断提高,CCD相机时序发生器的设计难度也越来越大,
采用以往方法来提高时序信号的精度已不能满足要求,而电子技术和EDA技术的发展为提高CCD电路
性能提供了有利条件。通过分析研究反熔丝FPGA结构特点,对其进行合理的人工布局布线,优化输出
UO时序,就可以得到精度较高的信号L““1。目前这种方法已经应用于各型号遥感CCD相机的研制过程
中,苜经过实际在轨运行应用证明,已取得良好的效果。
参 考 文 献 (References)
[1]“万晗,包斌,成桂梅.一种现场可编程门阵列门延时精确调整时序的方法[.航天返回与遥感,2010,31(2):62-68.
WAN Min, BAO Bin, CHENG Guimei. A FPGA Based Gate Delay Precise Timing Adjust Method[J]. Spacecraft Recovery
and Remote Sensing, 2010, 31(2): 62-68. (in Chinese)
2)“徐茜,苗丽峰,王跃明,等.8192像元TDICCD相机信噪比的深入分析[红外技术,2008,30(12):683-687.
XU Qian, MIAO Lifeng, WANG Yueming, et al. In-depth
Analysis of TDICCD Image Senor[J]. Infrared Technology, 2008,
30(12): 683-687. (in Chinese)
[3]李云飞,司国良,郭永飞.科学级CCD相机的噪声分析及处理技术[JJ,光学精密仪器工程,2005,(13):158-163.
LI Yunfei, SI Guoliang, GUO Yongfei. Noise Analyzing and Processing for Scientific Grade CCD Camera[ 刀 . Optics and Pre-
cision Engineering, 2005, (13): 158-163. (in Chinese)
[4]李云飞,李敏杰,司国良,等.基于FPGA的科学级CCD相机时序发生器的设计[刀.微计算机信息,2007,23(5):196-198.
