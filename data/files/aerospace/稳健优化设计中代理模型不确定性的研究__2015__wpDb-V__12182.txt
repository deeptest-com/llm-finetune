稳健优化设计中代理模型不确定性的研究
代理模型的应用解决了稳健设计中计算量大的难题,但由于代理模型与真实模型间存在误差（代理模型的不确定性）,而传统的稳健设计忽视了这种不确定性,必然会带来一定的设计误差。因此,针对稳健设计提出了一种基于蒙特卡洛抽样的代理模型不确定性的量化方法,在传统仅考虑参数不确定性的基础上,额外计入代理模型的不确定性对设计的影响。将提出的方法应用于一个数学算例和一个火箭弹卷弧翼气动稳健优化设计,所得优化结果较传统的未考虑代理模型不确定的稳健设计更为精确、合理,证实了提出方法的有效性。

稳健设计 代理模型不确定性 参数不确定性 高斯过程 KRIGING  

0“前言
稳健设计在优化产品性能的同时,尽可能地降
低性能对不确定性的敏感程度,对比确定性设计显
著改善了产品质量,在工程设计问题中得到广泛应
用[“然而在实际工程设计中,通常涉及复杂费时
的高精度仿真分析模型,如用于结构分析的有限元
分 析 (Finite element analysis, FEAJ 和 用 于 气 动 分 析
的 计 算 流 体 力 学 (Computational fluid dynamics,
CFD),较传统的基于经验公式的设计,这些仿真软
件的应用显著改善了设计精度,但计算量却大为增
加。为了降低计算量,代理模型广泛用于取代这些
费时的仿真模型。MARTINELLI等“1对飞行器气动
CFD分析参数构建了代理模型,所得气动参数的期
望和方差较泰勤近似更精确。张为华等5运用代理
模型对固体火箭发动机装药结构进行了可靠性分
析,结果与荣特卡洛仿真十分接近。孙光永等I将
基于代理模型的变复杂度方法应用到板料成形优化
中,显著地提高了板料的成形性。谷海涛等[基于
代理模型对水下滑翔机机翼进行了设计优化,有效
地化解精度与效率之间的矛盾。然而代理模型只是
真实模型的一种近似,与其存在误差,现阶段的稳
健优化设计基本都是直接基于代理模型进行,必然
会给设计带来额外的不确定性,本文称为代理模型
的不确定性,导致设计误差。JIN等史通过大量算例
对代理模型的不确定性对优化设计的影响进行了研
究,得出代理模型的不确定性对优化设计具有重要
影响,在稳健设计中尤为严重。因此,非常有必要
在稳健设计中考虑代理模型的不确定性。TANG
等f在基于代理模型的确定性优化设计中,提出
利用高斯随机过程来描述代理模型的不确定性。然
而稳健设计下,存在参数的不确定性,代理模型的
不确定性变得更加不透明,因此如何在稳健设计中
同时考虑并有效综合参数和代理模型这两种不确定
性对设计的影响,成为稳健设计中亚须解决的难题。
于此,本文主要对稳健设计中代理模型的不确定性
展开研究,提出一种同时考虑并量化这两种不确定
性的方法,并将其应用到火箭弹卷弧尾翼气动优
化中。
1代理模型的不确定性
代理模型能够显著降低优化设计的计算量,但
是由于代理模型只是真实模型的一种近似,与其存
在误差,实质上引入了额外的不确定性,代理模型
的不确定性,这种不确定性是由于实际中受计算量
的限制,基本不可能产生足够的样本来保证代理模
型无限趋近于真实模型。图1展示的是函数心
(6x-2)“sin(12x-4)在不同数量的样本下(ns~6和ns=8)
代理模型和真实模型的对比。从中可以看到,增加
样本的数量可以改葛代理模型的精度,对于那些没
有样本分布的区域,代理模型的不确定性随着样本
的增加虽然在减小,但却无法消除,必然会对设计
带来一定影响。因此,有必要在优化设计中考虑代
理模型不确定性的影响。
虽然现阶段已经产生了各种代理模型方法,
如:多项式响应面、支持向量机、径向基神经网络
等。这些方法的一个共同缺点是都没法对代理模型
的不确定性进行量化。而广泛应用于优化设计领域
的Kriging方法,对各种非线性度的函数都具有较
高的近似精度,更重要的是它提供了一种量化代理
模型不确定性的有效途径八口,因此本文基于
Kriging方法对代理模型的不确定性展开研究。在
Kriging方法下,由于样本不足导致的代理模型不确
定性可以解析式地得到量化。利用Kriging方法,
被近似的响应函数yxy(x)假设为一个随机过程
式中,Lx)是随机过程的均值
Z0o)是一个均值为0,协方差为cov(Z(w),Z(x))=
Rw,习的高斯随机过程,R(mwx=[exp
(-61w―x,1)。当给定若干个样本点之后,计算
各样本点处的真实函数响应值,运用最大似然估计
就能计算得到6,,和0「。最后,Kriging模型就
可以通过其预测点x处的期望公x)和均方差s(x)
来表示
式中,s(正是表征了预测点x处的代理模型不确
定性的大小。
图 2 展示的是6个样本构建的Kriging模型及
整个样本区间上代理模型的不确定性。可以看到由
于样本数目有限,真实函数与Kriging模型之间存
在差别,两类曲线相差越大,通常说明该区域分布
的样本点越稀疏,相应的代理模型的不确定性就越
图 2 Kriging方法下代理模型的不确定性
大。由于Kriging代理模型是插值型近似方法,在
各样本点处,Kriging模型与真实模型的预测值完全
相同,此时代理模型的不确定性为零。
2代理模型不确定性和参数不确定
性的综合量化
为了解决传统稳健设计面临的问题,这里提出
了一种有效地量化代理模型不确定性对稳健设计影
响的方法。以响应函数y=y(刃为例进行说明,对应
的KrigingREEy=公九。为简单起见,这
里直接将代理模型夕=仁乙)记为y=y刃。稳健设
计下优化目标为:最小化响应函数y(D的期望心的
同时,最小化其方差cy,也就是minf=/+cay,通
常c<3。对于稳健设计,关键的一步就是如何估算
每个设计点处的/和。传统的稳健设计通常仅考
虚参数不确定性,也就是设计变量乙的不确定性,
因此Mo,也完全取决于乙的不确定性信息。前面
已经提到,代理模型仅仅只是真实模型的近似,一
方面由于仿真模型过于费时,实际中基本不可能无
限制地增加样本来提高代理模型的精度;另一方面
任何一种代理模型技术都无法完全无误差地近似真
实模型,因此代理模型与真实模型之间必然存在误
差。传统的直接在代理模型的基础上估算/和的
稳健设计方法必然会给设计带来误差。为了解决该
问题,在此提出在稳健设计中除了考虑参数的不确
定性,同时量化代理模型不确定性的影响。我们将
代理模型的不确定性看作是与参数不确定性并列存
在的另一类不确定性,发展了一种综合量化代理模
型不确定性和传统参数不确定性有效方法。在具体
介绍提出的方法之前,先简单回顾一下传统的基于
代理模型的稳健优化设计是如何得到每个设计点处
的和。
(1)对性能函数构建Kriging代理模型y=p(X).
(2)根据给定的设计变量九的概率分布信息,
如九服从正态分布X-~N(Lmg9,产生N个样本点。
这里,Lx为当前设计点,ax为标准差,通常提前
给定。
(3)对于每一个样本点芒(C1,2,...,MNy,调用
Kriging代理模型(式(3))来估算该点处的函数响应
值yii=1,2,==,N)o由于对比原先费时的真实分析
模型,代理模型非常廉价,NW可以取得足够大。
(4)计算上述N个响应值y(l,2,…,M对应
的均值和标准差,也就是/和。
以上方法仅仅考虑了参数不确定性对/b和口的
影响,忽视了代理模型不确定性的影响,必然会带
来一定的设计误差。本文充分利用Kriging代理模
型能够量化由于样本不足而导致的代理模型不确定
性的优势,提出在稳健设计中同时考虑参数和代理
模型两种不确定性,提出的方法具体步骤如下。
(1)对性能函数构建Kriging代理模型y=p(X).
(2)根据给定的一的概率分布信息,如乙服从
正态分布+~MNLUm9,产生N个样本点。
(3)对于每一个样本点X(f=1,2,“..,Wy,调用
Kriging代理模型,分别利用式(3)和式(4)估算该样
本点处的函数响应值y(ic1l,2,...,W和代理模型不
确定性的大小si。
(4)由于要考虑代理模型的不确定性,将每个
函数响应值八看做是服从高斯正态分布的随机变量
irvMNOv s TEA yi 产 生 服 从 yi~NOb 59 的 M
个样本y,ya,“..,,yuwe。对应于任一设计点x处的每
一个样本君(tL,2,...,,,由于代理模型的预测值
yi与真实函数响应值是有差异的,存在代理模型不
确定性。Kriging方法实质上是一个关于空间位置变
坤的高斯随机过程,因此可以看成在每个预测点无
处,Kriging的预测函数响应值2存在不确定性,日
服从高斯正态分布yiNi,史。这里正态分布的均
值正是代理模型预测值y;,而标准差正是对应
Kriging模型计算得到的s「。为了更清楚进行说明,
我们将其绘制于图3。预测点x*处的代理模型响应
值y(x*)不再是一个确定值,而是服从正态分布,而
在传统稳健设计方法中y(xr*)当成一个确定值来处
理。这种对y(xr*)进行处理的方式,正是考虑了代理
模型不确定性的影响。
图 3 代理模型不确定性的量化示意图
(5)这样对应于任一设计点w有N个代理模型
函数响应值w(口12,“..,,每个小处又对应M个
样本,最终一共有MXN个关于响应函数值y的样
本 Tr =u, Via, ts Vis Yat, V2, tts Yam, tts INL,
yn,ttsyale对7求均值r和标准差cr,则得到设
计点x处同时考虑两种不确定性后的目标函数均
值和标准差分别如下:人=L仪和a=or
以上可以看出,传统的基于代理模型的稳健设
计方法将代理模型等同于真实模型,而本文提出的
方法通过充分利用Kriging能够量化代理模型不确
定性的优势,额外地计入了代理模型的不确定性,
更为稳健。可以预见的是本文提出的方法将能改善
基于代理模型的稳健设计的精度,这将在接下来的
一个数学算例和一个工程算例中得到证实。日提出
的方法是一种完全基于蒙特卡洛抽样的方法,简单
易行,实现起来非常方便。由于所有计算都是在代
理模型基础上进行,相对于那些复杂费时的仿真模
型,较传统方法增加的计算量是微乎其微的。
3算例测试
3.1数学算例
下面将用一个数学算例对本文提出的方法的
有效性进行验证,这个问题就是前面用到的那个算
例,优化目标函数是
在稳健设计下,目标函数变为(通常=3)
通常在设计前我们无法得知函数在哪个区域
非线性程度较高,因此在对y构建Kriging代理模
型时,取在设计区间xes[01]上均匀分布的6个样本
点 元 = [0, 0.2, 0.4, 0.6, 0.8, 1.0]。 所 构 建 的 Kriging
代理模型和真实函数展示在图4中。可以看出,蚀
然全局来看代理模型精度较高,但是6个样本点迦
不足以精确地近似真实函数,在某些区域明显存在
误差。
图 4 真实模型和Kriging代理模型(s=6)
传统的仅考虑参数不确定性的方法和本文提
出的同时考虑参数和代理模型不确定性的方法得到
的响应函数值(实线)及其95%预测区间(人-
1.960,4+1.96)(虚线)见图5。可以很清楚地看
到,传统方法由于未考虑代理模型不确定性,所得
预测区间较本文提出的方法明显要窄一些,显然代
理模型的不确定性对稳健设计的目标函数有显著影
响,所提出的方法由于更注重系统的稳健性,预测
区间明显要宽。
25
后的影响,我们将考虑两种不确定性方法(两种不确
定性)和仅考虑参数不确定性(参数不确定性)下得到
的响应函数的标准差值的变化情况绘制在图6
中,可以发现,当考虑了代理模型不确定性之后(带
团实线),o的值较传统仅考虑参数不确定性的情况
(带三角实线),普遍增大。但是,再看看代理模型
不确定性的曲线(带星线实线),显然带圈实线不是
带星实线和带三角实线的简单叙加,也就是说综合
考虑两种不确定性后的性能标准差不简单是分别
考虑参数不确定性和代理模型不确定性的线性馨
加,在桅些区域代理模型的不确定性对的影响明
显还要大于考虑了两种不确定性之后的值。因此
我们得出,参数不确定性和代理模型不确定性对
的影响不是简单的线性叠加关系。
在两种稳健设计方法下,求得了目标函数个最
小时的最优解,并将两种方法所得最优设计解带入
到真实目标函数中,计算得到相应的目标函数值,
见图7。可以发现,与真实最优解相比,本文提出
的奂泡所辐结梯{积乐确宏性)场定室探传姬非常
oo to tT EEE EE BR 抚 出 的
办垂明改蒂了精度,传统方法由于未许万栾理模型
不硫定性的影咩,简单地将代理模型等同于寄实横
烈,直猪垂代理模塑上迹行优化,极肉可能得到误
差较大的量优解。
实模垒闽孩屹碑显差朐晋,冲文提出的方法是宣旅
磷宗性的购线上也叶琨栗源想看出,逄不确定恍在
辆林许计区域几乎为零。1
, , 林 8 | 着 标 林 型 和 Rtiging RERBis=10) 。
同根答;送圣世维蒂了源狗方泷所得的响应函
数值w及其9596预测医闭,见图9.可以朋显发现,
此时华种方法所得预测区间儿乎一根。这圭一定程
度上说明,当样本数量较多,代理模型相对较为精
确的时候,代理模型刊不确定性对训认皇影响非
绘制于国14中,司以看到;「由于此时Kriging模型
性较小,其河浦计刑憎商也会比较小;罕积穆健设
认力法劾猥最优设补点和林应的函数响应值绘制于
11中可巍潘骁硕稔考弦所掠最优设计点儿乎与
si - s : “ fining : A pi vali aiieniinai - -
表 2 优化结果比较
参数数值
X 5916 1mm 183.3509 mm 68.295 0°
伟 D, 办 乙 588.540 7mm 28.6402°
Xo: R20) 145940 3 mm 10.3534
本文伟2.5444
f 一 2.350 9
Ho 0.54
oD 0.008
Ap+3Cp 0.548
X 5.744 2 mm 174.4489 mm 62.0357°
(t,D,￠,L, 699.982 7mm 29.996 0°
Yoo Ro) 131.480 3mm 10.869 4
f 一 2.685 5
Up 0.56
ap 0.02
uptdop 0.58
显然,如果在最优设计点上,约束函数值接近边界
值,传统方法由于忽视了代理模型的不确定性,最
优解存在误差,极有可能产生不可行解。
4结论
(1)传统的基于代理模型的稳健设计方法,忽
视了代理模型的不确定性,必然会带来一定的设计
误差。于此,本文基于Kriging代理模型理论提出
了一种在稳健设计中同时考虑参数不确定性和代理
模型不确定性的方法。
(2)将Kriging代理模型在每个设计点处的预
测值看作一个高斯正态分布,利用蒙特卡洛方法得
到考虑两种不确定性下性能函数不确定性的量化。
(3)通过对提出的方法和传统方法进行对比研
究,发现提出的方法能够得到较传统方法更精确的
最优解,证实了所提方法的有效性和优势。
,(4)火箭弹卷弧尾翼的稳健气动优化问题,由
于未考虑了代理模型的不确定性,传统方法所得最
优解不可行,而提出的方法由于考虑了该不确定性,
能够得到满足要求的最优解,进一步说明了本文提
出方法的有效性。
