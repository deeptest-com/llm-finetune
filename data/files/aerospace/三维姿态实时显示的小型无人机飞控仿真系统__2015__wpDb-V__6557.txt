三维姿态实时显示的小型无人机飞控仿真系统
本文设计并实现了一种小型无人机飞行控制仿真系统,规划了合理的系统架构,由在环程序、飞行动力学模型、地面站程序及三维可视化显示等部分共同构成仿真系统。针对实际问题,提出了飞行姿态的三维直观显示、动力学仿真模拟的方法,结合硬件在环和软件在环等两种方式建立了数据链路,构建了三维飞行器模型并导入仿真系统。仿真与实际飞行数据表明,所构建的仿真系统能够很好地满足小型无人机姿态控制和飞行仿真,实现了较高的精度和良好的实时性。

无人机 飞行控制 仿真系统 三维姿态 数据链路 在环程序  

中图分类号:V411.8“文献标识码:B
Study on Tracking Strategy for Small Unmanned
Aerial Vehicles Based on H_ Control
YAN Fang, DONG Chao -
yi, LI Jian, JI Xiao ― meng
(Electric Power College Inner Mongolia University of
Technology, Hohhot Inner Mongolia 010051, China)
ABSTRACT : Flight control systems with high ― quality robustness are widely studied due to increasing complexities
of flight environments and expending diversities of flight missions. For small unmanned aerial vehicles (UAV) ) , they
usually have wide flight envelopes, vulnerable to atmospheric turbulences and uncertainties. Therefore, it is pivotal
to design a robust controller satisfying specific flight performance. In this paper, a novel approach, based on H,
mixed sensitivity, was proposed to design a multi - variable flight control system for a mathematic model of a UAV in
a key laboratory. By choosing the suitable weighting matrices, the H, controller can achieve static stability and dy-
namic performance. Finally, the obtained controller was applied to both of the nominal model and perturbation model
to test its performances. The numerical simulations indicate that the proposed control system ensures not only closed
loop stability but also good robust performance under inner and outer disturbances.
KEYWORDS ; Unmanned aerial vehicles( UAV ) ; Robust
controller; Mixed sensitivity method ; Weighted matrix
1引言
小型无人机由于其成本低、重量轻、机动性能好等特点,
目前,多种控制算法已经被应用于无人机飞行控制系统
已经越来越广泛地被应用于军事、民用和科学研究等领域。
设计与研究。翟彬采用PID控制方法设计无人机飞行控制
随着其K行环境的日趋复杂和飞行任务的日益多样化,无人
器口,该方案一次只能设计、调整一个回路,而且当飞行条件
机飞行系统存在着多种不确定性,飞行动态极易受到大气紊
发生变化时,需要不断地改变控制器的参数以适应飞行条件
流等强干扰作用的影响。动态建模过程表明,其飞控系统具
的要求,来获得所期望的系统性能及鲁棒性;南京航空航天
有强非线性多变量、通道耦合以及对外界扰动和内部参数
大学的丛玉华提出应用非线性动态逆的方法设计控制器“,
摇动较敏感的特性,建立在传递函数基础上的经典反馈控制
虽然控制效果较理想,但该方法需求得线性化模型的逆系
大学的何慧将模糊控制方法应用于无人机着陆控制过程“,
蛆取得了一定的控制效果,但在算法实现过程中,需不断地
切换输出比例因子,因此,容易引起算法振荡或收敛困难,依
然无法获得较好的控制精度和鲁棒性。
本文提出将K,混合灵敏度控制算法应用于小型无人机
纵向飞行控制策略研究。同时优化从外部扰动和内部摄动
到被控输出量的X,范数,即,通过改变控制器参数,优化有
限输人能量到输出能量的最大增益,从而解决了传统控制器
未考虑参数摄动和不确定性的鲁棒稳定性问题和鲁森控制
问题,为具有模型摄动的多输人多输出(MIM0)无人机飞行
控制系统,提供了一种频域的鲁棒控制器设计方法,使得飞
行控制系统在满足控制系统的各项基本性能指标的同时,对
内郯参数摄动仍然具有鲁棒稳定性。
2“无人机数学模垒的建立
无人机动态数学模型的建立是进行其控制器设计的前
提和基础。由于无人机动态参数同飞行姿态量存在耦合关
系、飞行过程中质量可能发生变化、《行器结构具有弹性形变特
性等原因,建立精确的显式非线性动力学模型较为困难。因此,
在飞行器动态建模时,为方便研究,特作如下假设:
1)视飞行器为刚体目标,且其质量为恒定;
2)将地面坐标系视为惯性坐标系,不考虑其离心加速度
和和氏加速度;
3)忽略地球曲率,将其视为平面;
4)重力加速度恒定;
5)假设机体坐标系的Oxz平面为飞行器的对称平面,即
惯性积,=1,=0,
在上述假设基础上,依据合外力和合外力矩对飞行器运
动的作用,无人机的空间运助可用三个线坐标和三个角坐标
的六自由度关系描述。其中包括三个力方程组、三个运动方
程组.三个力矩方程组和三个导航方程组[。由于偏航角%
可由其它的状态量解耦,因此同飞行姿态相关的状态变量
有;[F,B,a,d,9,p,4,r,],其中,为飞行速度,6为侧滑角,
a为迎角,为滚转角,b为俯仰角,p滚转角速度,g为俯仰
角速度,r为偏航角速度。
当无人机的飞行状态满足水平无侧滑条件4=<=B一0,可
将无人机运动方程进一步解耦为纵向运动方程组和横侧向
运动方程组,其中,
飞机的纵向运动方程组可写做:
―90―
L一一升力;
7一一转动惯量;
-一俯仰力矩。
为了便于利用成熟的线性系统控制理论进行飞行控制
系统设计,在分析飞机的构城参数与飞行稳定性和操纵性之
间的关系,以及飞行控制系统设计之前,对无人机运动方程
组进行线性化处理是目前在实际工程中广泛使用的重要方
法之一。根据小扰动原理,对飞机的非线性状态方程进行线
性化处理。可得到平衡点处的纵向运动方程的线性化模
型为:
EX = AX + BU (2)
其中,雅克比矩阵F,4和B分别为:
式(2)中纵向线性化小挝动运动状态向量X=[V,0,0,￠]",
控制输人量x=[5r,6.],这里,5r为油门杆操作量,6.为升
降舵偏转角。式(2)中状态量和控制量表示其偏离平衡位景
的变化量,本文中省略了增量符号A.PM,ZM,、Ms、
M, M, Ky KX, 9. 0% Z, Zy Ly, Z, ZEB YCELE x Ea
军有关固定翼飞机动,静态气动参数辨识和稳定性评估的计
算软件DATCOM获得。为得到特定飞行条件下与飞机维度
无关的量纲稳定性导数,要求形成关于飞机外观集合描述的
输人文件,经DATCOM软件输出后可得到用于该无人机飞
行动态建模的动,静态气动参数。
3H混合灵敏度鲁棒控制算法
3.1H.,标准控制问题
考虑如图1所示的闭环控制系统“,
(3)式中,x是状态向量;z是被控输出信号,也称评价信号或
跟踪误差;y为测量输出信号,也称观测量;x为控制信号;w
为外部输人信号,一般包括参考指令信号,干扰和传感器噪
声;K(s)为待设计的控制器。
为了方便表示同一系统的传递函数描述和状态空间搀
述之间的联系,习惯上亦可将传递函数描述记为(4)式。
U控制标准问题可描述为“7:设计一个实有理控制器
K(s),使广义被控对象G(s)稳定,并东使传递函数矩阵F)
(G,K)(C关于大的左线性分式变换)的H范数极小,即:
min|F,(G,K)|=yo,称又最优问题;或表述为:求所有实
有理控制器K(s),使广义被控对象P(s)稳定,并东使传递函
数矩阵F(G,K)的Hy范数小于一个极小值,即:min
1F,(6.K)|<yv,称户.次优问题。其中
ftG,K) =LFT(G(s),K(s))
= G + GzK(T- GK) 斗(;2]
3.2H混合灵敏度问题转化H,标准控制问题
考虑图2所示的反馈系统,混合灵敏度设计的基本思想
为,在频率域内选择加权函数叭(s)、古(s)和职(s),使闭
环系统能兼顾稳定性和鲁棒性的要求。图2中加权函数叩
(5)的引入保证了系统具有良好的抗干扰能力;引入加权函
数仁(s)的目的是对系统模型加性不确定性进行限制,也可
看做对控制信号的约束作用;而加权函数W,(s)则反庞了系
统模型乘性不确定性的范围。
函数;
r到x的闭环传递函数矩阵R=K(T-PK)一;
r到e的闭环传递函数矩阵7=PK(T-PK)“,称补灵敏
RU , 日 IXTiFb 月 CRUSE PY J) 21) ASCII) 2K :
考虑控制器关系n=Ke,得闭环传递函数:
其中,优化史S可以对闭环控制系统性能指标进行优化,限
制WoR和史7,保证了模型参数在加性摄动和乘性摄动时系
统的稳定性。
混合灵锋度问题的一般提法为“““1;寻找真实有理函数
控制器K(s),使得闭环系统稳定,且满足:
本文主要针对f最优控制问题进行控制器求解。在
H最优控制的应用中,所设计的控制器性能在很大程度上
依赖于频率加权阵的选取。因此,如何选取加权函数,对F.
控制器设计至关重要。
4“加权函数的选择
根据伯德积分定理“01,通常为无法兼顾到整个频段内
的性能指标。因此,对各个信号进行加权,其实质是分别在
不同的频段内,对不同的性能指标进行频率塑性,以达到多
种控制性能的折中和优化。
4.1“W(s)的选择
W,作用于干扰到输出的频谱牧性,一般多部干拢和输
人信号的频率都比较低,为保证系统具有比较良好的抗干扰
能力,可以进行快速准确的跟踪,史在低频段应具有足够大
的幅值(即,保证较低的灵镣度),且截止频率应小于系统带
宽。一般来说,卯具有低通特性。
4.2W,的选取
W,表示系统所允许的模型加性摄动范围,在确定了卯
―91―
4.3W;的选取
卯为不确定性函数,反应了模型的乘性摄动范围。模
型的不确定性通常由于忽略高频动力学特性引起,因此,其
截止频率应大于系统带宽。在高频段,由于测量曝声随着频
率的增大而不断增大,叹应具有较大幅值,并具有较大的上
升斜率,以保证补灵敏度函数对高频噪声的快速衰减。一般
来说,P具有高通特性。
5无人机纵向飞行H,鲁棒控制器设计
5.1无人机纵向飞行H,鲁棒控制器设计
根据式(2)给出的线性化建模过程,选择如下水平飞行
条件:高度1100m,速度20m/s。在此条件下,对式(1)所表
示的无人机纵向非线性飞行状态方程进行配平,配平绪果
为 :a =9 =0. 099595rad,5. = - 0. 3909rad ,7 =4. 395N,q =0
rad/s,q=0rad/s,在配平所得平衡态的基础上,应用小扰动
原理,可得纵向飞行姿态线性化方程:
由式(6)可矫,纵向运动方程为二输人、四输出的多输人
多输出(MIM0)系统。根据对不同频率范围不确定性的鲁棒
性要求,选择三个加权矩阵为对角阵形式;
W, = Qiag( t , wy, , 训 l ,014 )
W, = diag(wy ,wy)
W; = dQiag (a0al , ws, ws Wy)
根据第4节中所介绍的加权函数选取原则,在低频段
W(sa)的幅值尽可能大,日W,(3)在Bode图中与0dB的交
叉频率近似等于或稍小于希望的闭环带宽;Wy(s)在高频段
的上升斜率取为稍大一点的值,比如404B/频程“。依据上
述原则,选定如下加权函数:
利用纵向运动方程和选定的加权函数,进行X混合灵
敏度设计,可得一个7阶鲁棒控制器K(s),对应最优,范
数 yo =0. 825,
-一92一
所谓灵敏度,是指系统的输出变量对系统特性或参数变
化的灵敏程度,而补灵敏度反映在保证系统稳定的情况下,
所允许模型参数摄动的最大范围。鲁棒控制闭环系统灵
敏度函数S和补灵敏度函数7的奇异值曲线如图3,图4
所示。
由图3可知,为了保证系统良好的抗干扰能力和跟踪性
能““,在低频段S(i)具有足够小的幅值。
率,保证高频噪声被迅速衰减。
加权函数耶与灵敏度函数、卵与补灵敏度函数TZ
间的关系可由图5图6给出。
由图5图6可得,灵敏度函数满足
[TGw)IolP(jw)1,达到加受函数分别对低频段与高
频段进行频域塑性的要求。
5.2.3“标称控制系统响应分析
通常根据对飞行品质的要求,小型无人机纵向飞行控制
系统性能指标要求:动态调节时间小于Ss,最大超调量小于
5%,稳态误差小于￡2%,以这三个性能指标分别用来评价
系统时域响应的快速性.平稳性和稳态精度“。
将所设计的控制器K(s)作用于标称模型。图7给出了
闭环控制系统的阶跃响应曲线。
表 1 给出了图7中各响应曲线的各项性能指标。
表 1 标称模型闭环控制系统性能指标
速度7“迎角a俯仰角8“俩仰角速度4
最大超调量690000
调 节 时 间 t 0. 4s 1. 1s 0. 8s 1. Os
稳态误差e,0000
由表1给出的数据可知,各被控输出量的动态性能满足
关于飞行品质的要求。
5.2.4控制系统鲁棒性能分析
数的基础上引入20%的摄动,仍将原鲁棒控制器作用于参数
摄动后的模型。闭环仿真给出系统阶跃响应曲线如图8
所示。
系统的动态性能(如表2所示)。
￡2参数摄动后模型闭环控制系统性能指标
速度V迎角a俯仰角8“俯仰角速度q
最大超调量8%2.8000.5%
调 节 时 间 t 0. 8s 1s 0.7s 0.9s
稳态误差eos0000
表 2 中的数据反映出:在对无人机标称模型引人20%的
参数摄动后,飞行速度出现了2.8%超调量,给标称模型的情
况,超调变大;各飞行姿态量的调整时间较标称模型时无显
著变化。可见,原鲁棒控制器仍具有良好的控制品质,满足
闭环系统控制指标要求。
本文将H,混合灵数度控制算法应用于小型无人机纵向
飞行姿怪控制器设计。首先,根据小扰动原理,建立无人机
纵向飞行二输入四输出的线性化动态方程;其次采用混合灵
敲度方法,设计了其纵向飞行控制系统的H鲁棒控制器;最
后将所设计的H,控制器分别作用于标称模型与参数摄动模
型进行仿真验证。仿真结果表明,所设计的控制器不仅可以
使标称闭环系统具有良好的控制性能指标,当系统存在由参
数摄动引起模型不确定性时,依然可以保持鲁棍稳定性。
