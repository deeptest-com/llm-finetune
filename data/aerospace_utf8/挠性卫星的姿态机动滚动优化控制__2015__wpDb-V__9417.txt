挠性卫星的姿态机动滚动优化控制
提出了一种基于控制力矩陀螺的挠性卫星姿态大角度快速机动控制方法。结合卫星姿态动力学,运动学和挠性附件的振动方程,建立了面向预测控制方法的非线性预测方程;在建立了包含卫星姿态跟踪误差,控制力矩能量以及挠性附件振动能量的优化目标函数基础上,采用非线性模型预测控制方法设计了兼顾机动性能与抑制附件振动的卫星姿态机动律。为进一步消除挠性附件振动,采用输入成形技术对规划的控制力矩进行处理,成形出合理的控制力矩指令。最后以成形后的控制力矩指令为输入条件,基于鲁棒伪逆方法设计了金字塔控制力矩陀螺群的操纵律,完成挠性卫星姿态机动的非线性滚动控制。针对算例的研究表明：卫星滚动轴姿态能够在约27 s内机动50°,且具有指向精度小于0.03°,姿态稳定度小于0.03（°）/s的性能。

姿态机动 控制力矩陀螺 振动抑制 模型预测控制  

0引言
为实现敲捷卫星姿态的快速机动,一方面是采
用新型的大力矩卫星姿态执行机构,另一方面是设
计先进的卫星姿态机动控制方法。控制力矩陀螺由
于具有力矩放大、响应快和无污染等特点,在工程中
得到应用,如Pleiades-~HR成像卫星,Worldview系列
卫星。但奇异性问题及操纵律的设计问题0-3一直限
制了其应用。此外,由于控制力矩陀螺的较大力矩输
出特点及卫星挠性结构复杂性的不断增加,敏捷卫
星姿态快速机动与挠性附件振动抑制的耦合问题日
益突出。
在卫星姿态机动律设计方面,Akella[s1利用
Lyapunov稳定性方法,基于修正罗德里格参数描述
的卫星姿态,设计了卫星姿态输出反馈跟踪机动控
制器。李传江4基于Lyapunov方法研究了航天器非
线性姿态的若于控制问题。何昱吊利用反步设计方
法,分别针对线性和非线性姿态模型设计了卫星姿
态机动律。变结构控制方法由于其设计简单,易于工
程实现,具有鲁棒性强等特点使得其在卫星姿态机
动非线性控制中广泛应用。常琳等史以金字塔构型
控制力矩陀螺为执行机构,设计了一种基于
Terminal滑模控制的小卫星姿态非线性忠速机动方
法。在挠性附件振动抑制方面,李勇等00针对具有捍
性椿的航天器,设计了一种简单的变结构控制方法,
并通过仿真和实验验证了该方法的正确性和有效
性。胡庆雷等日针对具有输人非线性的挠性航天器,
基于变结构控制方法设计了姿态机动控制律。管萍
等史结合模糊控制和变结构方法,设计了一种自适
应模糊变结构控制器。利用自适应模糊控制器的逼
近能力,实现变结构控制中的等效控制,而变结构控
制中的非线性项以保证控制系统的稳定性,此外,通
过设计的模糊控制器对非线性项光滑,达到抑制系
统抖动的目的。输人成形技术在挠性卫星的振动披
制研究中也得到了广泛应用。Rappole和Singer等0
将输人成型技术应用于空间飞行器的控制,以此披
制了挠性附件的模态振动。胡庆雷等0结合滑模控
制方法和输人成形技术,设计了挠性航天器的主动
振动抑制方法,取得了较好的控制效果。虽然滑模控
制方法具有设计简单及鲁棒性较好等优点,但其在
控制器设计过程中不能考虑执行机构的力矩输出能
力,且在滑模面具有抖振等问题。
文中针对一类以金字塔构型CMG群为执行机
构的挠性敏捷卫星,提出了一种兼顾卫星姿态快速
机动且有效抑制挠性附件振动的控制方法。基于非
线性模型预测控制方法设计了卫星姿态快速机动控
制律,且在控制律设计时考虑了执行机构的力矩输
出特性。采用输人成形设计方法,对规划的机动控制
律进行成形设计,规划出有效抑制挠性附件振动的
机动控制律。进而以鲁棒伪逆方法设计了金字塔构
型CMG群的操纵律。实现敏捷卫星姿态的快速机动
与挠性附件的振动抑制。
1卫星姿态机动方案设计
挠性卫星姿态的机动过程如图1所示。首先,
由地面站或任务规划计算出卫星需要进行的相对
于参考系的期望姿态轨选。通过星上敏感器的测
量,可获得卫星相对于参考坐标系的当前姿态。基
于NMPC的姿态控制律模块利用期望姿态与实际
姿态的偏差,在考虑执行机构力矩输出能力及抑制
挠性附件振动约束下,计算卫星姿态机动所需的控
制力矩。依据输人成形器将规划的期望控制力矩进
行输人成形设计,进一步抑制指性附件的振动。操
纵律模块根据输人成形后的期望控制力矩对金字
塔构型的每个CMG的框架角速度进行规划,规划
出的框架角速度指令驱动CMG的框架伺服控制系
统并进行框架角速度指令的跟踪,进而使得金字塔
构型CMG输出卫星三轴姿态机动的实际控制力
矩。该实际控制力矩作用于卫星三轴,使得卫昌进
行姿态机动。在文中,不考虑CMG伺服控制系统
的控制律设计,侄考虔到其系统带宽是有限的,将
在基于NMPC的姿态控制律模块的设计中考虑框
架角速度的限制。
2挠性卫星姿态动力学及运动学建模
以惯性坐标系为参考坐标系,建立的以金字堵
构型CMG群为执行机构的具有指性附件的卫星姿
态动力学为:`
式中:J为卫星的转动慰量矩阵;w为星体三轴姿态
角速度;6为指性附件与星体的刚柔耦合矩阵;为
捍性附件在模态坐标系下的位移;Hau为金字塔构
型CMG群的三轴角动量;T为空间干扰力矩Tac
定义为CMG群的控制力矩。符号定义为:
以工程上意义明确的欧拉角探述卫星姿态的运
动学模型,定义0,9,0.分别为xyz转序下的滚动角、俯
仰角和偏航角。卫星姿态在稳定运行或进行滚动轴机
动时,俯仰轴及偏航轻姿态角及角速度均为小量,因
WHO,6,6一[wsww:]7,假设由陀螺测量得到的卫
星三轴姿态角速度信息可直接用于控制律设计。
在模态坐标系下,挠性附件振动的动力学方程为:
式中:b为挠性附件模态的阻尼比矩阵;wy为挠性附
件模态的振动频率矩阵。
融合卫星姿态的动力学方程、运动学方程及捐
性附件的振动方程,且定义新的状态变量x=[90w
wjr,忽略空间十扰力矩的影响,整理得到状态空间
方程:
=Ax+BTouc (4)
该方程描述了卫星三轴姿态及角速度,挠性附
件的振动位移及角速度的强非线性耦合关系。
3卫星姿态机动方案设计
根据传感器测得的挠性卫星姿态等的当前信息
x(史,利用离散化的非线性状态空间方程:
x(k+1)=f(x(k),u(k)) (5)
通过迭代计算,可求取未来N预测步内的卫星
姿态信息;
x (k+1)=f(x(k),u(k))
) X(k+2)=f(x(k+1),u(k+1))
式中:R(.)表示预测的状态信息。从以上N步预测时
域内的系统状态可知,预测后的待设计自由变量为
M,时间步内的控制量:
{u(k),u(k+1), + ,u(k+N,~1))}
即CMG群的待设计控制力矩。当预测时域N
超出控制时域N,时,假设在区间[N,M:]控制力矩输
人保持不变,即有:
u(k+N,~1)=u(k+N,)=---=u(k+N,-1)
此时卫星姿态的预测输出方程为:
x(k+1)=f(x(k),u(k))
X(k+2)=f(F(k+1),u(k+1))
X(k+N)=f(x(k+N,~1),u(k+N,~1))
R(K+MNJ=RR(K+N-1),xCK+N,-1))
通常情况下,金字塔构型CMG稀的四个转子均
以恒定的转速旋转,即转子的角动量是固定的,通过
控制每个CMG的框架角速度进行输出力矩的控制。
考虑到框架伺服系统的带宽特性及控制能力,其限
制了每个CMG的框架角速度幅值和加速能力,进而
对金字塔构型CMG群的力矩输出能力提出了约柬,
这种约束可用CMG群的控制力矩输出限幅及增量
限幅的形式描述,则有:
| T| 世 Toao 训 [xoy,z}
|AT| < AT i={x,y,2}
考虑到卫星姿态的机动和跟踪性能,CMG群输
出控制力矩的能量以及挠性附件的振动能量(表达
式:E,=9仑+Irw;0)等,建立如下的目标函数J(x(k),
Uy:
J, 09= 3, | Foaller =r |, +
式中:Rov(k+引表示预测的卫星刚体姿态输出;二w
(K+弓表示预测的卫星挠性附件的姿态输出。系统的
整体状态z(K+]可以通过下面的数学模型计算得到:
?(k)=x(k)
在上面的优化问题中,符号N,MN,分别表示为预
测时域和控制时域,且有N,一N。r(.)为期望的卫星
姿态受控输出,即参考输人,其由卫星机动任务规划
而获得。(Q,R,为为路踪误差加权矩阵、控制力矩加
权矩阵和挠性附件振动加权矩阵。x(吊为当前时刻卫
星姿态的初始值,也即预测的卫星姿态未来动态的
起始点。H()为系统的预测控制输人,即待优化的控
制力矩,定义为:
式中:Ho,H,...,Rvu-!是互相独立的优化变量,记为:
DUes[ 酝 - uy, 1"
假设卫星姿态控制的约束优化问题的最优
解为:
DUE= [ 砂 砂 + nal”
根据预测控制原理,最优解的第一个元素,即当
前时刻的最优控制力矩将作用于卫星姿态控制系
统,定义当前时刻的当前控制量为:
u(k)=u,
4机动控制律的输入成形设计
对于由非线性模型预测控制方法规划的期望
控制力矩,蚺然其在设计时老虑了抑制挠性附件振
动的因素,但仍会在一定程度上激起附件的振动。
为进一步衰凑附件的振动,将规划的期望控制力矩
进行输人成形处理,输人成形器的设计原理如图2
所示。
刃 +26ywy+W30=6J T (0)
通过将力矩看成零初始条件下的一系列脉冲,
进而对系统的响应分析可得:
式中:4,为第}个脉冲力矩的幅值;$为第个脉冲
力短的作用时间,其中)=-8J-,且有文4=1,4>
Jj=1
0。通过求解以上公式可以获得作用在卫星上的n
个脉冲力矩的帽值和4,和作用时间5丁能够保证
在第n个脉冲控制力矩作用后,系统剩余的残余振
动为0。
(2)将非线性模型预测控制规划的控制力矩与
输人成形器求解的脉冲系列求卷积,即可获得成形
后的期望控制力矩。该输人成形后的期望控制力矩
能够保证在5时刻以后的挠性附件没有残余的振
动,且能够保证挠性卫星按照期望的姿态目标进行
机动。
5控制力矩陀螺操纵律设计
设采用4个CMG组成金字塔构型作为卫星执
行机构,儿何关系如图3所示,gi为第1个CMG的
框架轴,(i,j,史为沿卫星本体坐标系三轴的基矢量,
8为安装倾角bh为第个CMG的角动量,6;为第个
CMG的框架角。
标系可表示为:
如果期望卫星三轴具有相同的最大角动量能
力,由上式可计算出SGCMG的倾角为B=53.1“。
CMG的操纵律作用是将控制律模块规划出的
期望控制力矩转化为金字塔构型CMG群中每个
CMG的运动指令,即每个CMG的框架角速度运动
指令。为使得金字塔构型CMG群能够输出稳定、平
滑的控制力矩,设计良好的CMG的操纵律尤为重
要。同时,由于金字塔构型CMG群存在奇异问题,
使得CMG的操纵律设计更为复杂。
鲁棒伪逆操纵律可通过在奇异状态时产生允许
的偏差力矩而达到脱离奇异的目的。鲁棒伪逆操纵
律的设计可通过最小化如下的优化指标:
HrHM为待设计的正常值矩阵;r为规划出的期
望控制力矩。矩阵4为雅克比矩阵,即:4二弦。由以
上的优化问题,可以确定出框架角速度变化规律为:
为了避免SGCMG框架锁死,提高鲁森伪逆操
纵律对奇异性的回避,需要合理的设计矩阵HM,
文中采用如下的方法设计矩阵、K:
sizeosin(oi+d),参数Aoyuwseodb;为待定的设计系数,
一般根据卫星姿态机动情况进行调整。矩阵的仁选
取需根据卫星姿态机动模式及给定参考控制力矩特
点而选取。
在当前采样时刻,按照以上设计过程可以计算
出金字塔构型CMG群每个框架的角速度,进而产生
驱动挠性卫星姿态机动的实际力矩。在下一个采样
时刻,重复实施以上设计即可实现挠性卫星姿态机
动的滚动优化控制。
在文中,NMPC控制律是基于卫星姿态动力学
及运动学的非线性方程而设计的,同时,老虑了执
行机构的各种约束,其中,CMG群的控制力矩输出
增量约束条件由预测时域内相邻待优化变量的差
值体现。由此形成的优化控制问题通常为一个非凸
的约束非线性优化问题,可采用Matlab或SNOPT
优化工具箱中的序列二次规划算法进行求解。受限
于NMPC方法形成优化问题的复杂性、优化求解
算法的效率以及星载计算机的资源限制,在线求取
最优机动控制律目前存在实现困难,文中在此仅作
理论方法的研究和探索,为未来方法的应用奠定理
论基础。
6仿真
以树型具有持性帆板的敏捷小卫星为例,其转
动惯量矩阵如下所示:
考虑的挠性帆板一阶频率为2.23Hz,阻尼为
0.032,刚柔耦合系数矩阵为[0.00041,3.833,0]。
CMG最大框架角速度为3rad/s,转子额定角动量为
5Nms。考虑的金字塔构型CMG群的控制力矩约柬
为 [-6 Nm ,6 Nm], , 其 增 量 约 束 为 [-0.4 Nm,0.4 Nm],
针对考虑的卫星滚动轴单轴机动,设计的NMPC控
制律参数为:
Q=3 0001,R=1,P=5L,Nr=50。
鲁棒伪逆操纵律参数依次选取为:
W=diag{1,2,3,4} 。
轨道选取为高度660km的太阳同步阆轨道,空
间扰动力矩设为:
|M;=10"(3cos wy+1)Nm
{M4=1073(1.5sin wy+3cos u)Nm
| M=10"%(3sin wyt+1)Nm
为说明文中方法的鲁棒性,仅考虑卫星万轴的
主惯量矩阵进行设计,且在控制方法设计时不考虑
空间干扰力短的影响。
为验证文中方法的控制效果,基于PXI高效硬
件仿真系统进行卫星姿态两种机动模式的仿真:
()卫星初始姿态欧拉角为[0“,0“,0“],目标姿
态欧拉角为[40“,0。,0“],初始及目标姿态角速度均
为[0“/s,0“/s,0“/s]。
(2)卫星初始姿态欧拉角为[25“,0“,0“],日标姿
态欧拉角为[-25“,0“,0“],初始及目标姿态角速度均
为[0“/s,0“/s,0“/s]。
PXI高效硬件仿真系统及实验结果见图4、图5
和图6。
