基于3DVIA Studio的民航发动机虚拟装配实验系统设计与开发
以3DVIA Studio为虚拟仿真平台开发一套发动机虚拟装配实验系统。利用CATIA创建发动机虚拟样机,并利用3DS MAX对大修车间、虚拟维修人员建模,将模型导入到3DVIA Studio虚拟环境中,运用行为设计、流程图编程及VSL、SDK等开发方式实现人机交互功能,利用Get Local Position、Interpolator和Set Local Position等行为模块实现虚拟装配控制。开发人机交互设备kinect与3DVIA Studio的数据接口,在可视化沉浸式虚拟环境中,使用人体肢体语言对发动机进行虚拟装配,对发动机零部件的可装配性作出直接的评价。采用虚拟样机装配替代发动机实物可节省大量培训经费,缩短培训周期,提高发动机装配的质量,保证装配人员工作的安全。

3DVIA STUDIO 虚拟装配 人机交互 沉浸式  

中图分类号,V239文献标识码:A
Doi: 10.3969 小 .issn.1009 一 0134.2015.04( 上 3.14
0引言
虚拟装配技术作为一门新兴学科正在蓬勃发展,
近年来在航空航天、军事、建筑等领域得到越来越广泛
的应用。民航发动机传统维护培训投入大、耗费人力和
物力,而在民航发动机的维护作业中,零部件的拆卸与
重新装配是重要的组成部分,拆卸与装配所需时间在整
个维修活动所需时间中占有相当的比例。因此,开展发
动机虚拟装配技术研究越来越迫切,采用虚拟样机装配
替代发动机实物可节省大量培训经费,缩短培训周期,
提高发动机装配的质量,保证装配人员工作的安全,使
装配工作真正在高效、高质量、短时间、低成本的环
境下完成“1。本文探索性地设计了民航发动机虚拟装配
实验系统,设计流程如图1所示。并对人机交互设备数
据接口进行开发,将3DVIAStudio虚拟仿真平台、四通
道POWRWALL沉浸式环境投影系统和体感交互设备
kinect集成在一起,改变传统的键盘鼠标控制模式,使
文 章 编 号 : 1009 一 0134C2015)04( 上 )~0040 一 04
图 1 民航发动机虚拟装配实验系统设计流程图
发虚拟现实系统专业软件,支持沉浸式虚拟现实显示,
可以生成跨平台渣染、播放和操作的虚拟现实场景,支
持450个图形化行为模块(BuildingBlock)开发,并提
供 VSL (Virtools Script Language) 脚 本 语 言 和 基 于 C++
语 言 的 SDK (Software Development Kit) 开 发 , 开 发 人
员可以在3DVIAStudio里面直接进行代码语言开发,可
与儿乎所有主流虚拟现实硬件进行无缝匹配史。设计人
REIWKNTHAZ人。JMUVYIAU0I0日f』朱孙月以保似YH
水、烟、火、雨、雪等自然现象。动态物理模拟系统可
以帮助用户完成诸如重力、摩擦力、弹力、干涉、碰
撞、运动副、铰链、弹簧、外力等物理模拟01。
2民航发动机虚拟装配实验系统开发
2.1民航发动机和翻修厂虚拟场景的三维建模
利用二维建模工具CATIA对发动机建模,提高
建模速度和模型精确度。根据发动机维护手册要求
对各个零件、子装配体、总装配体进行编号。发动
机数据,风扇直径(mm)1613,长度(mm)3200。通过
分析和计算,确定1:12比例(3200+266~12.03,
1613+135=11.95),计算出几扇叶片长度为:
46mmX12=552mm,宽度大约为240mm,以及风扇机
足、高压压气机、燃烧室、高压涡轮、低压涡轮、尾
喷等结构的轴向尺寸,使用这些尺寸进行发动机主体
零件的3D造型,如图2所示。3DVIAStudio能直接打开
由CATIA导出的3DXML工程模型,其中的数据信息、
模型、材质、动画(机构仿真)等,都能进入到3DVIA
Studio 中 。
运用3DSMAX建模软件建立发动机大修车间系统
场景和虚拟维修人员模型,包括发动机整机装配模型
(如修理车间、修理工具如螺丝刀、扳手、刀具类、锤
类、钳类、轨道、支架、吊钩等)以及其他实体模型
(如厂房、地面等〉,添加材质、贴图后,导出为DAE
格式导入3DVIAStudio中,如图3、图4所示。3DVIA
Studio中默认使用的单位为米,而--般机械CAD默认采
用毫米为单位。为确保各类模型单位统一,在模型导入
前 , 调 整 3DVIA Studio 的 首 选 项 ,Reader 3DXML/Unit
Scale调整为0.0010。
人机交互是指用户对现实平台中的物体执行操作并
从虎拟环境中得到相应的反馈,它是构成虚拟装配的关
键技术。本系统中,在虐拟环境下人与装配零部件之
间的交互行为是通过系统中阆形化行为模块(Building
Block),如vkIOdevicemanger这-系列数据接口,接受
外接设备的数据输入,引发系统里面设置好的逻辑事件
从而达到人机交互的目的,逻辑编程如图5所示。通过
使用vkiodevicemanger::keyboard系统接受键盘的输入从
而并触发iskeypressed判断从而引起设置好的键盘触发
事件,通过enqueueanimation命令人物开始执行相应的
动作。
对整个系统的控制,采用微软kinect通过红外线测点原
理,得到人体的深度图像,从中获得人体每个的骨骼数
据,如图6所示,可以看到通过深度流算法可以将人体
从背景中提取出来,并得到每个骨骼节点的三维坐标并
在虚拟人的数据和kinect传输的数据建立连接,从而实
现控制。编程代码如下:
Tracked)
var joints = s.Joints;
Joint rightHand = joints[JointType.HandRight];
Joint leftHand = joints[JointType.HandLeft];
Joint head = joints[JointType.Head];
将骨骼数据赋予虚拟人的骨骸
Joint scaledCursorJoint = new Joint
TrackingState = JointTrackingState. Tracked,
Position = new SkeletonPoint
X = posX,
Y = posY,
Z = hand.Position.Z
int x = Conyvert.ToInt32(scaledCursorJoint.
Position.X);
int y = Convert.Tolnt32(scaledCursorJoint.
Position.Y);
2.3发动机虚拟装配三维交互行为的设计
3DVIAStudio中模型的运动是通过编辑程序脚本来
[42]“第37卷“第4期2015~04(上)
根据3DVIAStudio提供的一部分封装好的图形化模
块(BuildingBlock,BB),可以实现一些基本的递辑控
制和模型操作,如BB:Interpolator,在两个位置间进行
线性插值,如图7所示。在BBInterpolator图形化模块选
择 Edit Variable Settings, 设 置 Interpolator 的 变 量 类 型 ,
空_、_盲]兰l姿′杉_'】言i羞择、′]【v。(=3yvaluel是空间坐标【P物体运动一旨_
最终所处位置的坐标。BB:SetLocalPosition,可以将
物体放置到设定的坐标位置。GetLocalPosition取得目
标对象的当前空间坐标。运行时物体的空间坐标不断的
向最终坐标靠近,从而达到物体平滑移动的效果。零部
件平滑拆装模块逻辑图如图9所示。
RotateAround,实现物体绕指定物体的指定轴线转动指
定的角度,但其转动瞬间完成的,通过结合其他BB来
实现线性的转动。如图10所示实现线性转动功能的图形
化脚本:首先将输入的转动角度通过数学运算转化为弧
度,然后在BB:LinearProgression指定的进程时间内循
环调用BB:RotateAround完成转动。
动控制。发动机整个装配过程的运动通过以下模块
循环应用寂现控制*1)视角速度线性变换模块通
过 BB: Counter. Get World Transform. Set World
Transform、TInterpolator组合实现;2)显示或隐藏
标签描述模块通过BB:2DNLSText.Compare.
FANATICS P 7 的 途 AL AIRS fs AZLVAUWY 东 量 IVERIVIOIVIEDN
Multiply Rotate Around、Add 组 合 实 现 ; 6) 物 体
渐 隐 消 失 模 块 通 过 BB: Get Opacity. Set Opacity.
Interpolator、Counter 组 合 实 现 。
2.4碰撞检测技术
发动机零部件碰撞检测在进行虚拟拆装时,为了
避免各个部件产生接触碰撞,需要进行碰撞检测口。解
决碰撞问题的办法是通过给模型添加物理属性,从而使
两个物体之间产生物理碰撞,具体的实现方法是添加
vkObjectSliderConstraint以防止模型间的干涉。
3DVIAstudio中提供了区域检测技术,即当物体进
入这个区域后就会触发相应设计好的动作,如图11、图
12所示,这在很大的程度上解决了kinect光学体感技术
在虚拟航空发动机拆装动画中精度不足问题,只要部件
达到一定区域后,就可自动实现精确的拆装。
以3DVIAStudio虚拟仿真平台、数据头盔、四通道
POWRWALL式沉浸环境投影系统为基础,掀建沉浸式
虚拟仿真环境,以多通道视景同步技术和数字图像边缘
慈合技术为支撑,根据人眼3D昔象原理,即人眼左右
眼在看同一个物体时,有视距差约为Scm左矶,所以人
眼的左右眼所看到画面是不相同的,通过左右眼视差中
包含的物体的淆度信息,而在大脑图层重新叙加成一维
图 像 ,形成立体视觉。本系统利用此原理,通过设置不
右两个摄像机代替人的左右眼,通过脚本编程,让左右
摄像机之间差一个人眼的视距,从而获得类似于人眼的
左右两个不同的面面,再通过偏振镜等形式使左眼只能
式,对VSL脚本语言编程,代码如图13所示。设置两个
摄像机cameratomatch和match2代替原来的left和right,
采用两个自由的摄像机代替了原来的组件,再通过脚本
编程进行控制,如图14所示。以主摄像机为核心里面的
Getworldtransform,左右摄像机和主摄像机之间控制间
距通过multiply还有add给主摄像机的x坐标偏移一个半
个视距,然后赋给左摄像机,同理向另外一个摄像机向
相反方向偏移一个值,给右摄像机,如此就形成了3D
显示效果,如图15所示。
民航发动机传统维护培训投入大、耗费人力和物
力,采用虑拟样机装配替代发动机实物可节省大量培训
经费,缩短培训周期,提高发动机装配的质量,保证装
配人员工作的安全。本文提供一套民航发动机虚拟装配
实验系统的设计框架,实验系统如图16所示。对人机
交互设备数据接口进行开发,通过人机交互设备kinect
与3DVIAStudio虚拟现实软件相结合,改变传统的键盘
鼠标控制模式,使用肢体语言操控发动机虚拟装配,加
强发动机装配仿真的遢真度,为虚拟装配提供科学、高
第37卷第4期201504(上)【43〗
【上接第39页】
由图3可以看出,在高潮位时,最大应力出现在立
柱顶端靠近固定法兰处,最大应力值约为35.5MPa,
最大位移出现在浮子与立柱的连接处,位移量约为
2.8mm,最大应变出现在立柱顶端靠近固定法兰处处,
最大应变值约为0.18mm。
由图4可以看出,在中潮位时,最大应力和最大应
变均出现在淹没于海水中的立柱低端靠近固定法兰处,
最大应力和应变值分别约为37.7MPa和0.19mm,最大位
移出现在浮孔与立柱的连接处,位移量约为4mm。
由图5可以看出,在低潮位时,最大应力和最大应
变位置与中潮位相同,亦均出现在淹没于海水中的立
柱低端靠近固定法兰处,最大应力和应变值分别约为
35.3MPa和0.18mm,最大位移出现在浮子与立柱的连接
处,位移量约为1.8mm。
综上可以看出,各种工况的计算结果显示立柱与浮
子的应力应变均较小,高潮位时最大应力应变出现在立
柱顶端,中底潮位时最大应力应变出现在立柱低端,同
时浮子与立柱接触区域的应力应变区域也存在较小的应
力应变,该区域的位移量最大。因此,在发电装置的设
计及制造过程中,需要加强立柱与上层平台及下层潜浮
体的连接,同时在浮子与立标的连接处进行加强设计,
从而保证以上区域的强度。
【44】“第37卷第4期2015-04(Lk)
[3]刘江省,姚英学,李建广,等.虑拟装配中基于数据手套的虑拟操
作研究[系统仿真学报,2004,16(8):1744-1747.
[4]郑轶,宁汝新,刘检华,杜龙.虚拟装配关键技术及其发展[J].系统
仿 真 学 报 ,2006,18(3):649-654.
[5]胡小强.虚拟现实技术[M].北京:北京邮电大学出版社.2005:107.
[6]付晓靓.基于Virtools与Flash的实时交上虚拟NMR实验室的构
建[D].大逊:大连理工大学,2011.
[7] Kaufman Stephen G, Wilson Randall H, et al. The Archimedes
2 Mechanical Assembly Planning System[C].Proc. of IEEE
International Conf. on Robotics and Automation,1996.USA: IEEE,
1996: 3361-3368.
[8] Michael Weyrich,Paul Drews. An Interactive Environment for
Virtual Manufacturing: the Virtual Workbench [J.The Computers
in Industry,1999,38(1):5-15.
Ales ale Ale Ale ARs Ake Alle We Ale Ae We AV
3结论
目前,波浪能发电装置在海上实际应用时,如何生
存是其面临的最大问题。而波浪能装置海上生存的前提
条件是其主体结构具有足够高的强度,以防止在恶劣海
况条件下,装置被破坏。本文通过建立主体结构的有限
元模型,并加载恶劣海况下的波浪边界条件,分析了主
体结构的强度可靠性,分析结果表明,在文中提到的各
种海况条件下,主体结构的应力应变均较小,最大应力
应变区域出现在立柱两端与上下平台的连接处,因此为
了加强装置的可靠性,实际设计及制造过程中,需要加
强该区域的强度,保证装置安全。
