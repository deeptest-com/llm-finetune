飞机气动元件自动气密试验设备设计与实现
本文通过对某飞机公司配套高低压气动产品手控气密试验系统工作原理、使用方法及实际使用中的弊端介绍。设计了实现自动化控制的飞机气动元件自动化气密试验设备。在设计上整个气密试验设备将通过工业控制计算机组态界面、工业控制板卡、模/数(A/D)、数/模(D/A)转换模块、增压系统、电子压力控制调压器、电磁阀等,基于MCGS工业控制组态软件平台进行系统程控设计,在压力调节控制上对电子压力控制调压器实现PID运算自动精密调压。气密试验设备还实现自动计时保压、试验数据报表打印、试验完毕自动放气功能,整个试验过程无需人工控制、调节,确保试验人员安全,提高阀件测试工作效率。

工业计算机 工业控制板卡 电子压力控制调压器 电磁阀  

1“引言
目前,面向空间应用的可见光视觉测量系统已
成为许多深空探测器、货运飞船和侦察卫星[等航
天器的重要载荷之一,它主要由布置在目标体(或目
标飞行器)上的空间视觉标记及装载在航天器上的
空间相机和数字图像处理软件等3部分组成。其基
本原理[在于:采用单台或多台载荷相权实时观测、
采集已知形状尺寸特征的空间标记图像,利用数字
图 像 处理准确定位标记特征点中心坐标值,并构建
视觉标记特征点及其在2D像面中所提取的点中心
坐标值之间一一对应的函数映射关系,最终可解算
视觉标记与空间相机之间的相对位姿关系。
空间视觉标记以其自身的已知几何特征信息,
为目标位姿解算提供了可靠的依据和基准。它主要
TAH FABLE. Email:tanqimeng@ foxmail. com,
有网个关键环节:标记图案设计与特征点中心定位。
标记图案设计主要包括非编码图案和编码图案两
种[:前者采用组合同类规则几何形状的图案设计;
后者则侬据不同的编码策略,生成多种具有旋转缩
放唯一性的复杂图案。相比于编码图案,非编码图
案具有设计简单、安装方便、环境适应性强、特征点
中心易于提取等显著优势。目前,“国际空间站“主
要木用了非编码图案设计,空间站表面粘贴了若干
圆型点状标记簇「2,各圆型标记点直径约1my粘贴
或安装厚度约1mm,圆直径在图像中占据10一15
个像命,万上述标记点均采用一种包含双层结构的
特殊材料:上层白色实心圆采用了二氧化硅,下层黑
色国环采用了镍铝合金,以显著增强标记的黑白对
比度。此外,应用于航天飞机的“加拿大臂“(Cana-
darm)也札用了非编码设计空间标记「,昔共面分
布的2行6列矩形方格图案固定安装在臂杆上,每
个方格尺寸约50mmX50mm,在图像中占据不少
于100个像紫。显焱,非编码设计并不唯一,具有多
种图案表现形式。不同的非编码图案设计将直接制
约着特征点中心定位的准确性和难易程度,而定位
结果又作为已知系数参量参与目标空间位姿的实际
解算,这势必会影响可见光系统最终的测量精度。
为此,本文归纳总结了空间标记非编码设计原
则,着重介绍了棋盘格型、栅格型、圆型等3种典型
的非编码图案标记设计,详组分析了各种标记特征
点中心定位方法和计算过程,并开展试验对上述标
记图案及其点中心定位算法进行对比和分析。
2空间标记非编码设计原则
面向可见光空间测量应用的空间标记非编码设
计K“7原则主要包括以下几方面;
(1)图案设计必须为具有同类规则的几何形状
组合,例如;圆型阵列、矩形阵列等;
(2)图案设计切忌过于复朱,以确保特征点中心
易于快速、准确提取;
(3)图案设计应以适宣的尺寸成像,且保持尽可
能高的亮暗对比度;
(4)图案设计易于粘贴、安装、布置在航天器表
面。
此外,空间标记数目与分布应结合空间相机的
视圭角以及空间目标外形尺寸等予以充分考忠,原
则上空间标记的个数应为不小于4的任意整数;空
间标记可随意分布在目标表面,确保各标记点均能
在相机中清晰成像,且不与其他设备发生干涉、遮挡
SHE 办
空间标记非编码设计并不拂泥于某一种或几种
特定的图案,可以具有多种图案表现形式,只要满足
上述设计原则即可。目前常用的空间非编码图案标
记r主要包括棋盘格型图案标记,栅格型图案标记
和圆型图案标记等3种典型图案设计,分别如图1一3
所示,均满足上述非编码设计要求,其图案设计筒单、
且保证很高的黑白对比度,更为重要的是,能够确保
特征点中心的自动识别与精确定位。
现针对棋盘格城\果格型和圆型等3种视觉标
记图案设计,详细讨论其相度的2D成像特征点中
心定位算法。
3.1“棋盘格型标记
如图1所示,黑白棋盘格是一种十分常见的空
间标记图案,其中每个角点即为待定位的图像特征
点。目前有许多角点的提取算法,这些算法总体上
可分为两种:第一种是先提取图像边缘,以链码形式
表 示 ,再寻找最大曲率处作为角点;第二种是直接计
算图像灰度分布的曰率,将曲率最大的点视为角点。
文献[8]指出,第二种算法比第一种算法更具有明显
优势,其算法简捷、运算效率高,尤以Harris角点探
测器[“为典型代表。Harris角点探测器主要利用
灰度自相关函数表示相邻像素间的灰度变化,其基
本思想用数学形式表示如下;
先定义灰度自相关函数为
式中:wi)为像平面上一个尺寸大小为iXj的平
滑高斯窗函数;16,7)表示像面坐标(i,力处所对
应的灰度值。式(1)中的灰度自相关函数(z,y)
反映了在像面坐标(i,j)处存在一个(z,y)平面偏
移所得到的灰度平均变化量。根据角点的性质可
矫,像平面在角点处的图像窗口偏移会导致上述自
相关函数发生剧烈变化。
在像面坐标(4,5)处,灰度自相关函数E(x,y)
可以近似为一阶Taylor多项式展开得到
整理可得
团(了7。
现将式(3)改写为以下形式;
式中的系数矩阵M定义为灰度自相关函数巳(z,y)
的Hessian矩阵,即
式中:|M|表示矩阵的行列式;tr(M)则为矩阵的
迹。根据上述定义可知,矩阵M的特征值能够表示
灰度自相关函数的极值变化情况.借若M的两个特
征值均较小,则说明像平面窗口区域亮度变化不明
显;倘若M的两个特征值中其中一个较大,而另一
个较小,则表明像面窗口区域处于图像边缘区域;倘
若上述两个特征值均较大时,则可认定像面窗口区
域此时位于角点处。
Harris角点探测器可用数学公式表示如下:
在实际操作过程中,可以设定某一个阗值Re,
若R(z,y)超过某一阙值,则可认为该点为角点。
实践证明,系数k通常可取0.04一0.06之间,能够
获得理愚的结果。在Harris角点探测器的实际计
算过程中,需要涉及到卷积运算,计算量相对较大,
旦其角点探测精度仅为像素级。为了进一步实现角
点的亚像素精度级提取,需要将角点所在邻域的像
素灰度值进行高斯曲面拟合,高斯曲面的顶点即为
角点中心的精确位置。具体计算如下:
假设待拟合的高斯曲面函数为
`/`〈`Z:，-′}妖〉二1isLisaon
式中:(Cro,yo)即为角点中心2D坐标值。上述二维
高斯曲面函数具有可分离特性,即
flx,y) 二 f(x)? f(y
这样就可以将二维的高斯曲面拟合转换为两个一维
的高斯曲线拟合来完成。现以z的一维高斯曲线拟
合得
向上的点进行拟合,用最小二乘法可以求得二次多
项式的系数ao,al,as,即可得出xo=_羞邱为角
点中心的z轴坐标分量,同理可计算出角点中心的
y轴坐标分量。
3.2“栅格型标记
图 2 表示了一种栅格型标记图案,其中每个栅
格点即为待提取的空间标记2D成像特征点。国内
外许多学者针对栅格型标记特征点中心的定位问
题,提出了多种不同的定位算法,主要可分为两大
类[,一类是利用图像灰度分布的梯度信息来识
别栅格点,此类方法通常定位精度难以达到亚像素
级,而且运算量较大,极容易误判和丢失栅格点;另
一类是根据查格图案设计的直线儿何特征,先提取
出栅格边缘点以拟司成直线,随后求直线的交点即
为柘格点,此类方法运算量比较小,定位精度通常在
亚像素级别。下面将着重介绍第二类算法的基本
原理。
在数字图像处理领域中,Hough变换“常用于
检测直线。如图4所示,现假设像平面坐标系ou,
像面上任一条直线,位于该直线上的任一点九的
像面坐标值为(do,vo),像面坐标系厚点o至直线1
的欧氏距离可设为4,将点P与坐标原点o连接成
为直线段0P,该线段长度为p,则oP与x轴之间的
夹角为aHEL!与x轴之间的夹角为8。根据图
4中的平面几何关系可得
d= psin(8— a) = p(sinficosa 一 sin(薹c(亡)S/`寅) =
示参数。由式(10)可以看出,在cxv中任意的一个
点都对应参数空间中的一条曲线。只要是同一个直
线上的点,它们对应的曲线就会有一个交点,该交点
对应的4和6即为该直线的参数。
以Hough变换为基础检测一幅图像中的直线,
将参数空间中所有交点对应的曲线个数记录下来,
个数越多说明构成该直线的点就越多。只要设置一
个阎值,大于该阎值的参数就认为是图像中的直线。
在算法中,为了提高Hough变换检测直线的分辨
率,尽量减小4和6的取值间隔。
然而传统的Hough变换定位精度并不理想,在
许多场合中应用Hough变换检测目线都存在一个
共性问题,即如果阎值选取不合适,同一组直线边缘
点将有可能检测出多于一条直线参数的结果。图5
中的黑色区域表示栅格点所在直线的边缘区域,而
蓝色细直线则反眨了传统Hough变换直线检测结
果。从图5中可以清想地看到,Hough变换检测到
的直线不仅定位不够准确,而且会出现多条直线的
情况。
变换特征点定位算法:首先,手动设置栅格点的个数
及子区域尺寸阙值,并利用Canny算子检测图像边
缘,根据子区域闻值大小,将包含栅格点的区域分割
成若干子区域,并且每个区域中均保证只包含一个
栅格点;其次,利用Hough变换完成每个子区域的
直线检测,确定对应的直线参数;再次,任意选取两
条存在一定角度的直线,根据直线参数判断各直线
方向,分别沿每条直线的法线方向上遍历搜索阎值
边缘点;随后,对沿该直线方向搜索到的全部边缘点
利用最小二乘直线拟合,即可获得相应直线方程;最
后,联立两个目线方程即可计算栅格点的像面坐标
位置。
上述方法是在Hough变换直线检测的基础
上,引人遍历搜索阎值边缘点和最小二乘直线拟
合,从而准确定位栅格点中心坐标。因此,此方法
的优势表现为:它不仅继承了传统Hough变换算
法计算量小、计算速度快等优点,还能妥善解决因
Hough变换阎值选取不当而引起的边缘定位误差
问题,并且有效提高了原有Hough变换的特征点
定位精度。
3.3“圆型标记
图 3 是目前应用最为广泛的一种空间标记图案
设计,其自身优势是:图案中的每个独立圆型标记均
昔中心对称分布,其在相机成像面中始终呈现各向
同性特征,有效规避了由于其他外界干扰所导致的
标记变形问题而影响特征点中心的自动识别与提
取。如图3所示,每个圆型区域的中心即为待求取
的图像特征点。鉴于这种靶标图案十分易于识别一
定位精度较高,受到众多学者的青睐,相继提出了许
多蜇垫点中心定位算法,例如:质心法、灰度平方加
权质心法、高斯加权质心法和椭圆拟合法等。文
献“““指出,质心法和椭圆拟合法相对简单,对于规
则圆型图像具有较高的定位精度,但不适用于不规
则的圆型图像;高斯加权质心法能够有效抑制高斯
噪声产生的影响;灰度平方加权质心法采用灰度值
-的平方作为权值系数,突出了离中心较近且灰度值
较大的像点对中心位置的影响。相比之下,灰度平
方加权质心法的算法稳定、整体性能最高、可适用于
多种噪声环境和畸变图像。
现将灰度平方加权质心法的计算过程表示如
下:假设在圆型标记图案中的其中一个黑色圆型
区域所含像素个数为MXN,I(z,y)表示像面坐
PRACoy)处所对应的灰度值,则需要提取的该
圆型区域中心位置可以设为(xzo,y“)。根据圆型区
域的像素灰度分布特性,利用灰度的平方作为权
重因子,可以按照以下公式计算该圃区域的中心
位置。
N M N M
〗〗〉1^-Iz′(二(二,〕/〉乏〕乏〕〉"】'z(、〕〔，-)/〉
z一不8一一一,一化坤一一一
(an
由式(11)可知,圆型区域中心位置同时受像素
坐标值及其对应的灰度值共同影响,即离中心点越
近且灰度值越大的像素点对中心位置的计算影响显
著。此方法具有很好的鲁棒性和自适应能力,它既
能够适用于圆型区域像素灰度分布近似于高斯分
布,丁圆型区域相对规则,包含足够多的像素情况;
也特别适合所占像素相对较少,呈现光斑形状不规
则的圆型区域。
4试验结果与分析
鉴于上述分析可知,前面介绍的3种视觉标记
所对应的特征点中心定位算法均可视为同类算法的
优选方案,下面将着重针对棋盘格型标记、栅格型标
记和圆型标记等非编码视觉标记设计及其点中心定
位算法开展对比试验。
首先,分别设计了3种标记图案分别为图6
(a)图7(a)图8(a),它们均呈平面分布,每种图案
都包含了8行10列共计80个待检测的有效特征
点,且所有特征点都尽可能均匀分布在目标的平面
上,便于被相机视场覆盖,其中,棋盘格型和栅格型
图 案 中的每个小格尺寸均为30mmX30mm,[FAY
图 案 中的每个圆点直径为10mm。每种图案仅采
用黑白两种颜色,以保证高对比度。
其次,利用同一台工业级NikonD2H量测相机
分别采集了上述3种标记图案的图像信息,见图6
(a)囹7(a)、图8(a),要求标记图案尽可能充满整
个视场,以防止图像中探杂任何干扰信息。其中,相
机分辨率最高可达4288X2848pixels,像元尺寸为
6hm。随后,分别将上述3幅图像输人计算机保存。
再次,在Matlab软件平台中,针对不同标记图
案,分别调用前面介绍的最优算法的软件程序,完成
图 像 中每一个特征点的自动识别和点中心精确定
位,见图6(b)、图7(b)、图8(b),最终可分别获得3
组具有亚像泰精度的标记特征点中心的2D图像坐
标值序列,为方便起见,现将所有点中心位置均标识
在原始图像中,具体结果如图6(c)图7(c)、图8(c)
所示。
的性能。现将前面采集到的棋盘格型标记、栋格型
标记和圆型标记的图像视为原始图像,分别在每帽
图 像 中加人一组均值为零、均方根分别为{一0,
0.02,0.04,0.06,0.08,0.1}的高斯白瞿声,反复调
用相应的点中心定位算法的软件程序进行特征点自
动识别与点中心定位操作。图9一图11分别给出
了3种标记图案特征点中心定位算法在不同噪声水
平下的性能,包括成功定位特征点个数、计算时间及
点中心定位精度。
Fig. 9 Comparison of accuracy of different center
positioning algorithms responding to three patterns
Fig. 10 of calculating time of different center
positioning algorithms responding to three patterns
图 11 三种标记图案特征点中心定位算法
史功定位特征点个数比较
Fig 11 Comparison on number of image feature points responding
to three patterns by different center positioning algorithms
